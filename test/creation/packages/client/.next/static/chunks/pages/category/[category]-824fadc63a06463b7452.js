_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"4Jgv":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a("o0o1"),n=a.n(r),c=a("HaE+"),u=a("1OyB"),o=a("vuIU"),i=a("pUN5"),s=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,null,[{key:"getCategory",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("/category",{params:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post("/category",e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCategoryById",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("/category/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(c.a)(n.a.mark((function t(e,a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.patch("/category/".concat(e),a));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.delete("/category/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},"5FIT":function(t,e,a){"use strict";a.r(e);var r=a("o0o1"),n=a.n(r),c=a("ODXe"),u=a("HaE+"),o=a("KQm4"),i=a("q1tI"),s=a.n(i),l=a("Az7S"),p=a("RotF"),f=a.n(p),g=a("hfvm"),y=a("4Jgv"),d=a("gFb0"),v=a("zRT3"),b=a("CwrG"),h=a("dG4M"),w=a("PzmL"),m=a("Pqh/"),O=a("23aj"),j=a("1dv8"),k=a.n(j),N=s.a.createElement,_=function(t){var e=t.articles,a=void 0===e?[]:e,r=t.total,n=t.category,c=Object(l.b)(),u=Object(i.useContext)(d.a),p=u.setting,y=u.tags,j=u.categories,_=Object(i.useState)(1),C=_[0],E=_[1],x=Object(i.useState)(a),I=x[0],S=x[1];Object(i.useEffect)((function(){S(a)}),[a]);var F=Object(i.useCallback)((function(t){g.a.getArticlesByCategory(n.value,{page:t,pageSize:12,status:"publish"}).then((function(e){E(t),S((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e[0]))}))}))}),[n]);return N("div",{className:k.a.wrapper},N(v.a,{leftNode:N(s.a.Fragment,null,N("div",{className:k.a.tagOrCategoryDetail},N("p",null,N("span",null,n&&n.label)," ",c("categoryArticle")),N("p",null,c("totalSearch")," ",N("span",null,r)," ",c("piece"))),N("div",{className:k.a.leftWrap},N("header",null,N(O.CategoryMenu,{categories:j})),N("main",null,N(f.a,{pageStart:1,loadMore:F,hasMore:12*C<r,loader:N("div",{className:"loading",key:0},c("gettingArticle"))},N(h.a,{articles:I}))))),rightNode:N("div",{className:"sticky"},N(w.a,{mode:"inline"}),N(m.a,{tags:y}))}),N(b.a,{setting:p}))};_.getInitialProps=function(){var t=Object(u.a)(n.a.mark((function t(e){var a,r,u,o,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.query.category,t.next=3,Promise.all([g.a.getArticlesByCategory(a,{page:1,pageSize:12,status:"publish"}),y.a.getCategoryById(a)]);case 3:return r=t.sent,u=Object(c.a)(r,2),o=u[0],i=u[1],t.abrupt("return",{articles:o[0],total:o[1],category:i,needLayoutFooter:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.default=_},tGQK:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[category]",function(){return a("5FIT")}])}},[["tGQK",1,2,0,3,4,5,7,8,9,10,11,12,13,14,17,20,6]]]);