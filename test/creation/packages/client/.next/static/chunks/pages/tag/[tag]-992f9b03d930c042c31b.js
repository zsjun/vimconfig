_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{BgTP:function(t,e,a){"use strict";a.r(e);var n=a("o0o1"),r=a.n(n),u=a("ODXe"),c=a("HaE+"),i=a("KQm4"),s=a("q1tI"),o=a.n(s),l=a("Az7S"),p=a("RotF"),g=a.n(p),f=a("hfvm"),v=a("iatk"),d=a("gFb0"),b=a("zRT3"),h=a("CwrG"),y=a("dG4M"),m=a("PzmL"),w=a("xZQq"),O=a("Pqh/"),k=a("1dv8"),j=a.n(k),T=o.a.createElement,N=function(t){var e=t.articles,a=void 0===e?[]:e,n=t.total,r=t.tag,u=Object(l.b)(),c=Object(s.useContext)(d.a),p=c.setting,v=c.tags,k=c.categories,N=Object(s.useState)(1),x=N[0],_=N[1],I=Object(s.useState)(a),E=I[0],B=I[1];Object(s.useEffect)((function(){B(a)}),[a]);var P=Object(s.useCallback)((function(t){f.a.getArticlesByTag(r.value,{page:t,pageSize:12,status:"publish"}).then((function(e){_(t),B((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e[0]))}))}))}),[r.value]);return T("div",{className:j.a.wrapper},T(b.a,{leftNode:T(o.a.Fragment,null,T("div",{className:j.a.tagOrCategoryDetail},T("p",null,u("yu")," ",T("span",null,r.label)," ",u("tagRelativeArticles")),T("p",null,u("totalSearch")," ",T("span",null,n)," ",u("piece"))),T(O.a,{tags:v}),T("div",{className:j.a.leftWrap},T("main",null,T(g.a,{pageStart:1,loadMore:P,hasMore:12*x<n,loader:T("div",{className:"loading",key:0},u("gettingArticle"))},T(y.a,{articles:E}))))),rightNode:T("div",{className:"sticky"},T(m.a,{mode:"inline"}),T(w.a,{categories:k}))}),T(h.a,{setting:p}))};N.getInitialProps=function(){var t=Object(c.a)(r.a.mark((function t(e){var a,n,c,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.query.tag,t.next=3,Promise.all([f.a.getArticlesByTag(a,{page:1,pageSize:12,status:"publish"}),v.a.getTagById(a)]);case 3:return n=t.sent,c=Object(u.a)(n,2),i=c[0],s=c[1],t.abrupt("return",{articles:i[0],total:i[1],tag:s,needLayoutFooter:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.default=N},QIBK:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tag/[tag]",function(){return a("BgTP")}])},iatk:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("o0o1"),r=a.n(n),u=a("HaE+"),c=a("1OyB"),i=a("vuIU"),s=a("pUN5"),o=function(){function t(){Object(c.a)(this,t)}return Object(i.a)(t,null,[{key:"getTags",value:function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/tag",{params:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTagWithArticles",value:function(){var t=Object(u.a)(r.a.mark((function t(e){var a,n=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]&&n[1],t.abrupt("return",s.a.get("/tag/".concat(e,"/article"),a?{params:{status:"publish"}}:{}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"addTag",value:function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.post("/tag",e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTagById",value:function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/tag/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateTag",value:function(){var t=Object(u.a)(r.a.mark((function t(e,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.patch("/tag/".concat(e),a));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"deleteTag",value:function(){var t=Object(u.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.delete("/tag/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},xZQq:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a("q1tI"),r=a.n(n),u=a("TSYQ"),c=a.n(u),i=a("YFqc"),s=a.n(i),o=a("Az7S"),l=a("20a2"),p=a("d/kO"),g=a("Hnhp"),f=a.n(g),v=r.a.createElement,d=function(t){var e=t.categories,a=void 0===e?[]:e,n=Object(l.useRouter)(),r=Object(o.b)(),u=n.query.category;return v("div",{className:f.a.wrapper},v("div",{className:f.a.title},v("span",null,r("categoryTitle"))),v("ul",null,v(p.a,{length:a.length,options:{opacity:1,height:37,x:0,from:{opacity:0,height:0,x:-20}},setItemContainerProps:function(t){return{className:c()(f.a.tagItem,u===a[t].value&&f.a.active)}},renderItem:function(t){var e=a[t];return v(s.a,{href:"/category/[category]",as:"/category/"+e.value,shallow:!1},v("a",null,v("span",null,e.label),v("span",null,r("total")," ",e.articleCount," ",r("articleCountTemplate"))))}})))}}},[["QIBK",1,2,0,3,4,5,7,8,9,10,11,12,13,14,17,6]]]);