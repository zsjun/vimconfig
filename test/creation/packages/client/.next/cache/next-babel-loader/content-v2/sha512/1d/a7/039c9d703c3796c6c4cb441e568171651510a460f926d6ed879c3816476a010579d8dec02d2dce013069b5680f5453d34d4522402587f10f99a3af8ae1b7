{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport cls from 'classnames';\nimport { useTranslations } from 'next-intl';\nimport { useAsyncLoading } from '@/hooks/useAsyncLoading';\nimport { ArticleProvider } from '@/providers/article';\nimport { ListTrail } from '@/components/Animation/Trail';\nimport { ArticleList } from '@components/ArticleList';\nimport { LocaleTime } from '@/components/LocaleTime';\nimport style from './index.module.scss';\nexport const ArticleRecommend = ({\n  mode = 'vertical',\n  articleId = null,\n  needTitle = true\n}) => {\n  const t = useTranslations();\n  const [getRecommend, loading] = useAsyncLoading(ArticleProvider.getRecommend);\n  const {\n    0: articles,\n    1: setArticles\n  } = useState([]);\n  useEffect(() => {\n    getRecommend(articleId).then(res => {\n      setArticles(res.slice(0, 6));\n    });\n  }, [articleId, getRecommend]);\n  return __jsx(\"div\", {\n    className: cls(style.wrapper, mode === 'inline' && style.inline)\n  }, needTitle && __jsx(\"div\", {\n    className: style.title\n  }, __jsx(\"span\", null, t('recommendToReading'))), __jsx(_Spin, {\n    spinning: loading\n  }, mode === 'inline' ? articles.length <= 0 ? loading ? __jsx(\"div\", {\n    style: {\n      height: 32\n    }\n  }) : __jsx(\"div\", {\n    className: 'empty'\n  }, t('empty')) : __jsx(\"ul\", {\n    className: style.inlineWrapper\n  }, __jsx(ListTrail, {\n    length: articles.length,\n    options: {\n      opacity: loading ? 0 : 1,\n      height: loading ? 0 : 32,\n      x: 0,\n      from: {\n        opacity: 0,\n        height: 0,\n        x: -20\n      }\n    },\n    renderItem: index => {\n      const article = articles[index];\n      return __jsx(Link, {\n        href: `/article/[id]`,\n        as: `/article/${article.id}`,\n        scroll: false\n      }, __jsx(\"a\", null, __jsx(\"span\", null, article.title), ' Â· ', __jsx(\"span\", null, __jsx(LocaleTime, {\n        date: article.publishAt,\n        timeago: true\n      }))));\n    }\n  })) : __jsx(ArticleList, {\n    articles: articles || [],\n    coverHeight: 110,\n    asRecommend: true\n  })));\n};","map":null,"metadata":{},"sourceType":"module"}