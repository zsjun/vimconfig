{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport cls from 'classnames';\nimport { Share } from '@/components/Share';\nimport { CommentIcon } from '@/components/Comment/CommentIcon';\nimport { Likes } from '@/components/Likes';\nimport { useToggle } from '@/hooks/useToggle';\nimport { getDocumentScrollTop } from '@/utils';\nimport style from './index.module.scss';\nimport { AliPay } from '@/components/AliPay';\nexport const DoubleColumnLayout = ({\n  leftNode,\n  leftClassName = null,\n  rightNode,\n  rightClassName = null,\n  isRightNodeMobileHidden = true,\n  minHeight = '100vh',\n  background = 'var(--bg-body)',\n  likesProps,\n  showComment = false,\n  shareProps,\n  showPay\n}) => {\n  const [showWidge, toggleWidge] = useToggle(true);\n  useEffect(() => {\n    let beforeY = 0;\n    let y = 0;\n\n    const handler = () => {\n      y = getDocumentScrollTop();\n      toggleWidge(beforeY <= y);\n      setTimeout(() => {\n        beforeY = y;\n      }, 0);\n    };\n\n    document.addEventListener('scroll', handler);\n    return () => {\n      document.removeEventListener('scroll', handler);\n    };\n  }, [toggleWidge]);\n  return __jsx(\"div\", {\n    className: cls(style.outerWrap),\n    style: {\n      minHeight,\n      background\n    }\n  }, __jsx(\"div\", {\n    className: cls('container')\n  }, __jsx(\"div\", {\n    className: style.wrap\n  }, (likesProps || showComment || shareProps) && __jsx(\"div\", {\n    className: cls(style.fixed, showWidge && style.active),\n    onClick: e => {\n      console.log('clicked');\n      e.preventDefault();\n      e.nativeEvent.stopImmediatePropagation();\n      e.stopPropagation();\n    }\n  }, likesProps && __jsx(\"div\", {\n    className: style.widgetWrapper\n  }, __jsx(Likes, likesProps)), showComment && __jsx(\"div\", {\n    className: style.widgetWrapper\n  }, __jsx(CommentIcon, null)), shareProps && __jsx(\"div\", {\n    className: style.widgetWrapper\n  }, __jsx(Share, shareProps)), showPay && __jsx(\"div\", {\n    className: style.widgetWrapper\n  }, __jsx(AliPay, showPay))), __jsx(\"section\", {\n    className: cls(style.left, leftClassName)\n  }, leftNode), __jsx(\"aside\", {\n    className: cls(style.right, rightClassName, isRightNodeMobileHidden && style.isRightNodeMobileHidden)\n  }, rightNode))));\n};","map":null,"metadata":{},"sourceType":"module"}