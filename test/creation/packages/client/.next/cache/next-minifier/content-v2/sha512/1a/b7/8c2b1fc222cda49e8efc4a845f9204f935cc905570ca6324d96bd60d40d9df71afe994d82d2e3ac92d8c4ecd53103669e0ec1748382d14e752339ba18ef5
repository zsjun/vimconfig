{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{\"4Jgv\":function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return s}));var r=a(\"o0o1\"),n=a.n(r),c=a(\"HaE+\"),u=a(\"1OyB\"),o=a(\"vuIU\"),i=a(\"pUN5\"),s=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,null,[{key:\"getCategory\",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",i.a.get(\"/category\",{params:e}));case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:\"add\",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",i.a.post(\"/category\",e));case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:\"getCategoryById\",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",i.a.get(\"/category/\".concat(e)));case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:\"update\",value:function(){var t=Object(c.a)(n.a.mark((function t(e,a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",i.a.patch(\"/category/\".concat(e),a));case 1:case\"end\":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:\"delete\",value:function(){var t=Object(c.a)(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",i.a.delete(\"/category/\".concat(e)));case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},\"5FIT\":function(t,e,a){\"use strict\";a.r(e);var r=a(\"o0o1\"),n=a.n(r),c=a(\"ODXe\"),u=a(\"HaE+\"),o=a(\"KQm4\"),i=a(\"q1tI\"),s=a.n(i),l=a(\"Az7S\"),p=a(\"RotF\"),f=a.n(p),g=a(\"hfvm\"),y=a(\"4Jgv\"),d=a(\"gFb0\"),v=a(\"zRT3\"),b=a(\"CwrG\"),h=a(\"dG4M\"),w=a(\"PzmL\"),m=a(\"Pqh/\"),O=a(\"23aj\"),j=a(\"1dv8\"),k=a.n(j),N=s.a.createElement,_=function(t){var e=t.articles,a=void 0===e?[]:e,r=t.total,n=t.category,c=Object(l.b)(),u=Object(i.useContext)(d.a),p=u.setting,y=u.tags,j=u.categories,_=Object(i.useState)(1),C=_[0],E=_[1],x=Object(i.useState)(a),I=x[0],S=x[1];Object(i.useEffect)((function(){S(a)}),[a]);var F=Object(i.useCallback)((function(t){g.a.getArticlesByCategory(n.value,{page:t,pageSize:12,status:\"publish\"}).then((function(e){E(t),S((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e[0]))}))}))}),[n]);return N(\"div\",{className:k.a.wrapper},N(v.a,{leftNode:N(s.a.Fragment,null,N(\"div\",{className:k.a.tagOrCategoryDetail},N(\"p\",null,N(\"span\",null,n&&n.label),\" \",c(\"categoryArticle\")),N(\"p\",null,c(\"totalSearch\"),\" \",N(\"span\",null,r),\" \",c(\"piece\"))),N(\"div\",{className:k.a.leftWrap},N(\"header\",null,N(O.CategoryMenu,{categories:j})),N(\"main\",null,N(f.a,{pageStart:1,loadMore:F,hasMore:12*C<r,loader:N(\"div\",{className:\"loading\",key:0},c(\"gettingArticle\"))},N(h.a,{articles:I}))))),rightNode:N(\"div\",{className:\"sticky\"},N(w.a,{mode:\"inline\"}),N(m.a,{tags:y}))}),N(b.a,{setting:p}))};_.getInitialProps=function(){var t=Object(u.a)(n.a.mark((function t(e){var a,r,u,o,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.query.category,t.next=3,Promise.all([g.a.getArticlesByCategory(a,{page:1,pageSize:12,status:\"publish\"}),y.a.getCategoryById(a)]);case 3:return r=t.sent,u=Object(c.a)(r,2),o=u[0],i=u[1],t.abrupt(\"return\",{articles:o[0],total:o[1],category:i,needLayoutFooter:!1});case 8:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.default=_},tGQK:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/category/[category]\",function(){return a(\"5FIT\")}])}},[[\"tGQK\",1,2,0,3,4,5,7,8,9,10,11,12,13,14,17,20,6]]]);","map":{"version":3,"sources":["static/chunks/pages/category/[category]-824fadc63a06463b7452.js"],"names":["_N_E","window","push","4Jgv","module","__webpack_exports__","__webpack_require__","d","CategoryProvider","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_http__WEBPACK_IMPORTED_MODULE_4__","Object","this","key","value","_getCategory","a","mark","_callee","params","wrap","_context","prev","next","abrupt","get","stop","_x","apply","arguments","_add","_callee2","data","_context2","post","_x2","_getCategoryById","_callee3","id","_context3","concat","_x3","_update","_callee4","_context4","patch","_x4","_x5","_delete2","_callee5","_context5","_x6","5FIT","r","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","next_intl__WEBPACK_IMPORTED_MODULE_5__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6___default","_providers_article__WEBPACK_IMPORTED_MODULE_7__","_providers_category__WEBPACK_IMPORTED_MODULE_8__","_context_global__WEBPACK_IMPORTED_MODULE_9__","_layout_DoubleColumnLayout__WEBPACK_IMPORTED_MODULE_10__","_components_Footer__WEBPACK_IMPORTED_MODULE_11__","_components_ArticleList__WEBPACK_IMPORTED_MODULE_12__","_components_ArticleRecommend__WEBPACK_IMPORTED_MODULE_13__","_components_Tags__WEBPACK_IMPORTED_MODULE_14__","_index__WEBPACK_IMPORTED_MODULE_15__","_index_module_scss__WEBPACK_IMPORTED_MODULE_16__","_index_module_scss__WEBPACK_IMPORTED_MODULE_16___default","__jsx","createElement","Home","_ref","_ref$articles","articles","defaultArticles","total","category","t","_useContext","setting","tags","categories","_useState","page","setPage","_useState2","setArticles","getArticles","getArticlesByCategory","pageSize","status","then","res","className","wrapper","leftNode","Fragment","tagOrCategoryDetail","label","leftWrap","pageStart","loadMore","hasMore","loader","rightNode","mode","getInitialProps","_ref2","ctx","categoryValue","_yield$Promise$all","_yield$Promise$all2","query","Promise","all","getCategoryById","sent","needLayoutFooter","tGQK","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/category/[category]-824fadc63a06463b7452.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"4Jgv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CategoryProvider; });\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"pUN5\");\n\n\n\n\n\nvar CategoryProvider = /*#__PURE__*/function () {\n  function CategoryProvider() {\n    Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, CategoryProvider);\n  }\n\n  Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(CategoryProvider, null, [{\n    key: \"getCategory\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getCategory = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(params) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/category', {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCategory(_x) {\n        return _getCategory.apply(this, arguments);\n      }\n\n      return getCategory;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"add\",\n    value: function () {\n      var _add = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post('/category', data));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function add(_x2) {\n        return _add.apply(this, arguments);\n      }\n\n      return add;\n    }()\n    /**\n     * 获取分类\n     * @param id\n     */\n\n  }, {\n    key: \"getCategoryById\",\n    value: function () {\n      var _getCategoryById = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get(\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getCategoryById(_x3) {\n        return _getCategoryById.apply(this, arguments);\n      }\n\n      return getCategoryById;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(id, data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].patch(\"/category/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function update(_x4, _x5) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"][\"delete\"](\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function _delete(_x6) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }]);\n\n  return CategoryProvider;\n}();\n\n/***/ }),\n\n/***/ \"5FIT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"ODXe\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"KQm4\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"Az7S\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"RotF\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _providers_article__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"hfvm\");\n/* harmony import */ var _providers_category__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"4Jgv\");\n/* harmony import */ var _context_global__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"gFb0\");\n/* harmony import */ var _layout_DoubleColumnLayout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"zRT3\");\n/* harmony import */ var _components_Footer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"CwrG\");\n/* harmony import */ var _components_ArticleList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"dG4M\");\n/* harmony import */ var _components_ArticleRecommend__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"PzmL\");\n/* harmony import */ var _components_Tags__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"Pqh/\");\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"23aj\");\n/* harmony import */ var _index_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"1dv8\");\n/* harmony import */ var _index_module_scss__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_index_module_scss__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement;\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar pageSize = 12;\n\nvar Home = function Home(_ref) {\n  var _ref$articles = _ref.articles,\n      defaultArticles = _ref$articles === void 0 ? [] : _ref$articles,\n      total = _ref.total,\n      category = _ref.category;\n  var t = Object(next_intl__WEBPACK_IMPORTED_MODULE_5__[/* useTranslations */ \"b\"])();\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useContext\"])(_context_global__WEBPACK_IMPORTED_MODULE_9__[/* GlobalContext */ \"a\"]),\n      setting = _useContext.setting,\n      tags = _useContext.tags,\n      categories = _useContext.categories;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(defaultArticles),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    setArticles(defaultArticles);\n  }, [defaultArticles]);\n  var getArticles = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useCallback\"])(function (page) {\n    _providers_article__WEBPACK_IMPORTED_MODULE_7__[/* ArticleProvider */ \"a\"].getArticlesByCategory(category.value, {\n      page: page,\n      pageSize: pageSize,\n      status: 'publish'\n    }).then(function (res) {\n      setPage(page);\n      setArticles(function (articles) {\n        return [].concat(Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(articles), Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(res[0]));\n      });\n    });\n  }, [category]);\n  return __jsx(\"div\", {\n    className: _index_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.wrapper\n  }, __jsx(_layout_DoubleColumnLayout__WEBPACK_IMPORTED_MODULE_10__[/* DoubleColumnLayout */ \"a\"], {\n    leftNode: __jsx(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, __jsx(\"div\", {\n      className: _index_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.tagOrCategoryDetail\n    }, __jsx(\"p\", null, __jsx(\"span\", null, category && category.label), \" \", t('categoryArticle')), __jsx(\"p\", null, t('totalSearch'), \" \", __jsx(\"span\", null, total), \" \", t('piece'))), __jsx(\"div\", {\n      className: _index_module_scss__WEBPACK_IMPORTED_MODULE_16___default.a.leftWrap\n    }, __jsx(\"header\", null, __jsx(_index__WEBPACK_IMPORTED_MODULE_15__[\"CategoryMenu\"], {\n      categories: categories\n    })), __jsx(\"main\", null, __jsx(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_6___default.a, {\n      pageStart: 1,\n      loadMore: getArticles,\n      hasMore: page * pageSize < total,\n      loader: __jsx(\"div\", {\n        className: 'loading',\n        key: 0\n      }, t('gettingArticle'))\n    }, __jsx(_components_ArticleList__WEBPACK_IMPORTED_MODULE_12__[/* ArticleList */ \"a\"], {\n      articles: articles\n    }))))),\n    rightNode: __jsx(\"div\", {\n      className: \"sticky\"\n    }, __jsx(_components_ArticleRecommend__WEBPACK_IMPORTED_MODULE_13__[/* ArticleRecommend */ \"a\"], {\n      mode: \"inline\"\n    }), __jsx(_components_Tags__WEBPACK_IMPORTED_MODULE_14__[/* Tags */ \"a\"], {\n      tags: tags\n    }))\n  }), __jsx(_components_Footer__WEBPACK_IMPORTED_MODULE_11__[/* Footer */ \"a\"], {\n    setting: setting\n  }));\n}; // 服务端预取数据\n\n\nHome.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(ctx) {\n    var categoryValue, _yield$Promise$all, _yield$Promise$all2, articles, category;\n\n    return _Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            categoryValue = ctx.query.category;\n            _context.next = 3;\n            return Promise.all([_providers_article__WEBPACK_IMPORTED_MODULE_7__[/* ArticleProvider */ \"a\"].getArticlesByCategory(categoryValue, {\n              page: 1,\n              pageSize: pageSize,\n              status: 'publish'\n            }), _providers_category__WEBPACK_IMPORTED_MODULE_8__[/* CategoryProvider */ \"a\"].getCategoryById(categoryValue)]);\n\n          case 3:\n            _yield$Promise$all = _context.sent;\n            _yield$Promise$all2 = Object(_Users_zsj_work_vimconfig_test_creation_packages_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_yield$Promise$all, 2);\n            articles = _yield$Promise$all2[0];\n            category = _yield$Promise$all2[1];\n            return _context.abrupt(\"return\", {\n              articles: articles[0],\n              total: articles[1],\n              category: category,\n              needLayoutFooter: false\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\n\n/***/ }),\n\n/***/ \"tGQK\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/category/[category]\",\n      function () {\n        return __webpack_require__(\"5FIT\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"tGQK\",1,2,0,3,4,5,7,8,9,10,11,12,13,14,17,20,6]]]);","inputSourceMap":{"version":3,"sources":["/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/client/src/providers/category.ts","/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/client/pages/category/[category].tsx","/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fcategory%2F%5Bcategory%5D&absolutePagePath=private-next-pages%2Fcategory%2F%5Bcategory%5D.tsx!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AACe;AACJ;AACN;AACjG;AAC/B;AACP;AACA,IAAI,qKAAe;AACnB;;AAEA,EAAE,kKAAY;AACd;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,uKAAiB,eAAe,qIAAmB;AAC5E,eAAe,qIAAmB;AAClC;AACA;AACA;AACA,iDAAiD,0DAAY;AAC7D;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,iBAAiB,uKAAiB,eAAe,qIAAmB;AACpE,eAAe,qIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,6BAA6B,uKAAiB,eAAe,qIAAmB;AAChF,eAAe,qIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,oBAAoB,uKAAiB,eAAe,qIAAmB;AACvE,eAAe,qIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,qBAAqB,uKAAiB,eAAe,qIAAmB;AACxE,eAAe,qIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;AChKD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AACS;AACM;AACE;AACnJ,YAAY,4CAAK;AAC2D;AAChC;AACS;AACC;AACE;AACP;AACgB;AACrB;AACU;AACW;AACzB;AACA;AACC;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU,yEAAe;;AAEzB,oBAAoB,wDAAU,CAAC,qEAAa;AAC5C;AACA;AACA;;AAEA,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA,EAAE,uDAAS;AACX;AACA,GAAG;AACH,oBAAoB,yDAAW;AAC/B,IAAI,0EAAe;AACnB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,yBAAyB,wKAAkB,YAAY,wKAAkB;AACzE,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,eAAe,0DAAK;AACpB,GAAG,QAAQ,sFAAkB;AAC7B,oBAAoB,4CAAK;AACzB,iBAAiB,0DAAK;AACtB,KAAK;AACL,iBAAiB,0DAAK;AACtB,KAAK,8BAA8B,oDAAY;AAC/C;AACA,KAAK,8BAA8B,8DAAc;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK,QAAQ,4EAAW;AACxB;AACA,KAAK;AACL;AACA;AACA,KAAK,QAAQ,sFAAgB;AAC7B;AACA,KAAK,SAAS,8DAAI;AAClB;AACA,KAAK;AACL,GAAG,SAAS,kEAAM;AAClB;AACA,GAAG;AACH,EAAE;;;AAGF;AACA,cAAc,uKAAiB,eAAe,qIAAmB;AACjE;;AAEA,WAAW,qIAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA,gCAAgC,0EAAe;AAC/C;AACA;AACA;AACA,aAAa,GAAG,4EAAgB;;AAEhC;AACA;AACA,kCAAkC,oKAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,CAAC;;AAEc,mEAAI,E;;;;;;;;AChInB;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA4C;AACnE;AACA","file":"x","sourcesContent":["import _regeneratorRuntime from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { httpProvider } from './http';\nexport var CategoryProvider = /*#__PURE__*/function () {\n  function CategoryProvider() {\n    _classCallCheck(this, CategoryProvider);\n  }\n\n  _createClass(CategoryProvider, null, [{\n    key: \"getCategory\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getCategory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", httpProvider.get('/category', {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCategory(_x) {\n        return _getCategory.apply(this, arguments);\n      }\n\n      return getCategory;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"add\",\n    value: function () {\n      var _add = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", httpProvider.post('/category', data));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function add(_x2) {\n        return _add.apply(this, arguments);\n      }\n\n      return add;\n    }()\n    /**\n     * 获取分类\n     * @param id\n     */\n\n  }, {\n    key: \"getCategoryById\",\n    value: function () {\n      var _getCategoryById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", httpProvider.get(\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getCategoryById(_x3) {\n        return _getCategoryById.apply(this, arguments);\n      }\n\n      return getCategoryById;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id, data) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", httpProvider.patch(\"/category/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function update(_x4, _x5) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", httpProvider[\"delete\"](\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function _delete(_x6) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }]);\n\n  return CategoryProvider;\n}();","import _regeneratorRuntime from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/regenerator\";\nimport _slicedToArray from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/zsj/work/vimconfig/test/creation/packages/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { useTranslations } from 'next-intl';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { ArticleProvider } from '@/providers/article';\nimport { CategoryProvider } from '@/providers/category';\nimport { GlobalContext } from '@/context/global';\nimport { DoubleColumnLayout } from '@/layout/DoubleColumnLayout';\nimport { Footer } from '@components/Footer';\nimport { ArticleList } from '@components/ArticleList';\nimport { ArticleRecommend } from '@/components/ArticleRecommend';\nimport { Tags } from '@components/Tags';\nimport { CategoryMenu } from '../index';\nimport style from '../index.module.scss';\nvar pageSize = 12;\n\nvar Home = function Home(_ref) {\n  var _ref$articles = _ref.articles,\n      defaultArticles = _ref$articles === void 0 ? [] : _ref$articles,\n      total = _ref.total,\n      category = _ref.category;\n  var t = useTranslations();\n\n  var _useContext = useContext(GlobalContext),\n      setting = _useContext.setting,\n      tags = _useContext.tags,\n      categories = _useContext.categories;\n\n  var _useState = useState(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = useState(defaultArticles),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  useEffect(function () {\n    setArticles(defaultArticles);\n  }, [defaultArticles]);\n  var getArticles = useCallback(function (page) {\n    ArticleProvider.getArticlesByCategory(category.value, {\n      page: page,\n      pageSize: pageSize,\n      status: 'publish'\n    }).then(function (res) {\n      setPage(page);\n      setArticles(function (articles) {\n        return [].concat(_toConsumableArray(articles), _toConsumableArray(res[0]));\n      });\n    });\n  }, [category]);\n  return __jsx(\"div\", {\n    className: style.wrapper\n  }, __jsx(DoubleColumnLayout, {\n    leftNode: __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: style.tagOrCategoryDetail\n    }, __jsx(\"p\", null, __jsx(\"span\", null, category && category.label), \" \", t('categoryArticle')), __jsx(\"p\", null, t('totalSearch'), \" \", __jsx(\"span\", null, total), \" \", t('piece'))), __jsx(\"div\", {\n      className: style.leftWrap\n    }, __jsx(\"header\", null, __jsx(CategoryMenu, {\n      categories: categories\n    })), __jsx(\"main\", null, __jsx(InfiniteScroll, {\n      pageStart: 1,\n      loadMore: getArticles,\n      hasMore: page * pageSize < total,\n      loader: __jsx(\"div\", {\n        className: 'loading',\n        key: 0\n      }, t('gettingArticle'))\n    }, __jsx(ArticleList, {\n      articles: articles\n    }))))),\n    rightNode: __jsx(\"div\", {\n      className: \"sticky\"\n    }, __jsx(ArticleRecommend, {\n      mode: \"inline\"\n    }), __jsx(Tags, {\n      tags: tags\n    }))\n  }), __jsx(Footer, {\n    setting: setting\n  }));\n}; // 服务端预取数据\n\n\nHome.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var categoryValue, _yield$Promise$all, _yield$Promise$all2, articles, category;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            categoryValue = ctx.query.category;\n            _context.next = 3;\n            return Promise.all([ArticleProvider.getArticlesByCategory(categoryValue, {\n              page: 1,\n              pageSize: pageSize,\n              status: 'publish'\n            }), CategoryProvider.getCategoryById(categoryValue)]);\n\n          case 3:\n            _yield$Promise$all = _context.sent;\n            _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n            articles = _yield$Promise$all2[0];\n            category = _yield$Promise$all2[1];\n            return _context.abrupt(\"return\", {\n              articles: articles[0],\n              total: articles[1],\n              category: category,\n              needLayoutFooter: false\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Home;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/category/[category]\",\n      function () {\n        return require(\"private-next-pages/category/[category].tsx\");\n      }\n    ]);\n  "]}}