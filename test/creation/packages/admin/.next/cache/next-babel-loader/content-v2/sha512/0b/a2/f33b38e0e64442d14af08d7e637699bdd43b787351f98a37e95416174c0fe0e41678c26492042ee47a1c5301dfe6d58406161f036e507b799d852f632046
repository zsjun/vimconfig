{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport { MarkdownReader } from '@/components/MarkdownReader';\nimport { makeHtml } from './utils/markdown';\nimport { registerScollListener, subjectScrollListener, removeScrollListener } from './utils/syncScroll';\nexport var Preview = function Preview(_ref) {\n  var value = _ref.value;\n  var ref = useRef();\n  var html = makeHtml(value);\n  useEffect(function () {\n    var listener = function listener(_ref2) {\n      var top = _ref2.top,\n          left = _ref2.left;\n      var scrollHeight = ref.current.scrollHeight;\n      ref.current.scrollTop = top * scrollHeight;\n      ref.current.scrollLeft = left;\n    };\n\n    subjectScrollListener('preview', 'editor', listener);\n    return function () {\n      removeScrollListener('editor', listener);\n    };\n  }, []);\n  useEffect(function () {\n    var el = ref.current;\n    var listener = registerScollListener('preview', function () {\n      return {\n        top: el.scrollTop / (el.scrollHeight - el.offsetHeight),\n        left: el.scrollLeft\n      };\n    });\n    el.addEventListener('scroll', listener, true);\n    return function () {\n      el.removeEventListener('scroll', listener, true);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: ref,\n    style: {\n      height: '100%',\n      padding: '10px 2rem 40px',\n      overflow: 'auto'\n    }\n  }, __jsx(MarkdownReader, {\n    content: html\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}