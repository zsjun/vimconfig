{"ast":null,"code":"import \"antd/lib/breadcrumb/style\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nvar __jsx = React.createElement;\nimport React, { useContext } from 'react';\nimport { Icon as LegacyIcon } from '@ant-design/compatible';\nimport { CopyrightOutlined, GithubOutlined } from '@ant-design/icons';\nimport Link from 'next/link';\nimport { default as Router, useRouter } from 'next/router';\nimport cls from 'classnames';\nimport { useSetting } from '@/hooks/useSetting';\nimport { UserInfo } from '@/components/UserInfo';\nimport { GlobalContext } from '@/context/global';\nimport { ResourceCreate } from './ResourceCreate';\nimport { menus, findActiveMenu } from './menus';\nimport style from './index.module.scss';\nconst {\n  Sider,\n  Content\n} = _Layout;\nconst {\n  SubMenu\n} = _Menu;\nexport const AdminLayout = ({\n  headerAppender,\n  children\n}) => {\n  const {\n    collapsed,\n    toggleCollapse\n  } = useContext(GlobalContext);\n  const setting = useSetting();\n  const router = useRouter();\n  const {\n    pathname\n  } = router;\n  const [activeMenu, breadcrumbs] = findActiveMenu(pathname);\n\n  const renderMenuItem = menu => __jsx(_Menu.Item, {\n    key: menu.path,\n    onClick: () => Router.push(menu.path)\n  }, __jsx(Link, {\n    href: menu.path\n  }, __jsx(\"a\", {\n    className: cls({\n      [style.active]: activeMenu && activeMenu.path === menu.path\n    })\n  }, __jsx(LegacyIcon, {\n    type: menu.icon\n  }), __jsx(\"span\", null, menu.title))));\n\n  const MenuContent = __jsx(_Menu, {\n    theme: \"dark\",\n    mode: \"inline\",\n    defaultSelectedKeys: [activeMenu && activeMenu.path]\n  }, menus.filter(m => !m.ignore).map(menu => {\n    return menu.children ? __jsx(SubMenu, {\n      key: menu.title,\n      icon: __jsx(LegacyIcon, {\n        type: menu.icon\n      }),\n      title: menu.title\n    }, menu.children.filter(m => !m.ignore).map(renderMenuItem)) : renderMenuItem(menu);\n  }));\n\n  return __jsx(_Layout, {\n    className: style.container\n  }, __jsx(Sider, {\n    className: style.asider,\n    trigger: null,\n    collapsible: true,\n    collapsed: collapsed\n  }, __jsx(\"div\", {\n    className: style.logo\n  }, setting.systemFavicon && __jsx(\"img\", {\n    src: setting.systemFavicon\n  }), !collapsed && __jsx(\"span\", {\n    style: {\n      marginLeft: 4\n    }\n  }, \"\\u7BA1\\u7406\\u540E\\u53F0\")), __jsx(\"div\", {\n    className: style.resourceCreate\n  }, __jsx(ResourceCreate, {\n    collapsed: collapsed\n  })), MenuContent), __jsx(_Layout, {\n    className: style.main\n  }, __jsx(\"header\", null, __jsx(_Row, null, __jsx(_Col, {\n    span: 12\n  }, __jsx(LegacyIcon, {\n    className: \"trigger\",\n    type: collapsed ? 'menu-unfold' : 'menu-fold',\n    onClick: toggleCollapse\n  })), __jsx(_Col, {\n    span: 12,\n    style: {\n      textAlign: 'right'\n    }\n  }, __jsx(\"div\", {\n    className: style.info\n  }, __jsx(\"a\", {\n    className: style.github,\n    href: \"https://github.com/fantasticit/wipi\",\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, __jsx(GithubOutlined, null)), __jsx(UserInfo, null))))), __jsx(Content, {\n    className: style.content\n  }, __jsx(\"header\", null, __jsx(_Breadcrumb, null, breadcrumbs.map(breadcrumb => {\n    return __jsx(_Breadcrumb.Item, {\n      key: breadcrumb.path\n    }, __jsx(Link, {\n      href: breadcrumb.path\n    }, __jsx(\"a\", null, breadcrumb.title)));\n  })), __jsx(\"div\", {\n    className: style.title\n  }, activeMenu && activeMenu.label), headerAppender && __jsx(\"div\", null, headerAppender)), __jsx(\"main\", null, children, __jsx(\"footer\", null, __jsx(\"ul\", {\n    className: style.icons\n  }, __jsx(\"li\", null, __jsx(\"a\", {\n    className: style.github,\n    href: \"https://github.com/fantasticit/wipi\",\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, __jsx(GithubOutlined, null)))), __jsx(\"div\", {\n    className: style.copyright\n  }, __jsx(\"p\", null, \"Copyright \", __jsx(CopyrightOutlined, null), \" \", new Date().getFullYear(), \" Designed by\", __jsx(\"a\", {\n    href: \"https://github.com/fantasticit/wipi\",\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, ' ', \"Fantasticit.\"))))))));\n};","map":null,"metadata":{},"sourceType":"module"}