{"ast":null,"code":"import { httpProvider } from './http';\nimport * as Showdown from 'showdown';\nconst converter = new Showdown.Converter({\n  tables: true,\n  simplifiedAutoLink: true,\n  strikethrough: true,\n  tasklists: true,\n  emoji: true\n});\nexport class PageProvider {\n  /**\n   * 获取所有页面\n   */\n  static async getPages(params) {\n    return httpProvider.get('/page', {\n      params: params\n    });\n  }\n  /**\n   * 获取所有已发布页面\n   */\n\n\n  static async getAllPublisedPages() {\n    return httpProvider.get('/page', {\n      params: {\n        status: 'publish'\n      }\n    });\n  }\n  /**\n   * 获取指定页面\n   * @param id\n   */\n\n\n  static async getPage(id) {\n    return httpProvider.get(`/page/${id}`);\n  }\n  /**\n   * 新建页面\n   * @param data\n   */\n\n\n  static async addPage(data) {\n    data.html = converter.makeHtml(data.content);\n    return httpProvider.post('/page', data);\n  }\n  /**\n   * 更新页面\n   * @param id\n   * @param data\n   */\n\n\n  static async updatePage(id, data) {\n    data.html = converter.makeHtml(data.content);\n    return httpProvider.patch(`/page/${id}`, data);\n  }\n  /**\n   * 更新文章阅读量\n   * @param id\n   * @param data\n   */\n\n\n  static async updatePageViews(id) {\n    return httpProvider.post(`/page/${id}/views`);\n  }\n  /**\n   * 删除页面\n   * @param id\n   */\n\n\n  static async deletePage(id) {\n    return httpProvider.delete(`/page/${id}`);\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}