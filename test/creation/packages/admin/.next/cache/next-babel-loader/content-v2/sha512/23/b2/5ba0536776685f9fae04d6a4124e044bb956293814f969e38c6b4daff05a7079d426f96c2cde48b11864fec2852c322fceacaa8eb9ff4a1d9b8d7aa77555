{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport { MarkdownReader } from '@/components/MarkdownReader';\nimport { makeHtml } from './utils/markdown';\nimport { registerScollListener, subjectScrollListener, removeScrollListener } from './utils/syncScroll';\nexport const Preview = ({\n  value\n}) => {\n  const ref = useRef();\n  const html = makeHtml(value);\n  useEffect(() => {\n    const listener = ({\n      top,\n      left\n    }) => {\n      const scrollHeight = ref.current.scrollHeight;\n      ref.current.scrollTop = top * scrollHeight;\n      ref.current.scrollLeft = left;\n    };\n\n    subjectScrollListener('preview', 'editor', listener);\n    return () => {\n      removeScrollListener('editor', listener);\n    };\n  }, []);\n  useEffect(() => {\n    const el = ref.current;\n    const listener = registerScollListener('preview', () => {\n      return {\n        top: el.scrollTop / (el.scrollHeight - el.offsetHeight),\n        left: el.scrollLeft\n      };\n    });\n    el.addEventListener('scroll', listener, true);\n    return () => {\n      el.removeEventListener('scroll', listener, true);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    ref: ref,\n    style: {\n      height: '100%',\n      padding: '10px 2rem 40px',\n      overflow: 'auto'\n    }\n  }, __jsx(MarkdownReader, {\n    content: html\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}