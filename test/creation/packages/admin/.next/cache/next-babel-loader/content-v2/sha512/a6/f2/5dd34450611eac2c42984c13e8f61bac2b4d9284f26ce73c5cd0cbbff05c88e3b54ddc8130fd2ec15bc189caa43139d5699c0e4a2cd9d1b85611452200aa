{"ast":null,"code":"import { useEffect, useContext } from 'react';\nimport { GlobalContext } from '@/context/global';\nexport const Analytics = props => {\n  const {\n    setting\n  } = useContext(GlobalContext);\n  useEffect(() => {\n    const googleAnalyticsId = setting.googleAnalyticsId;\n\n    if (!googleAnalyticsId) {\n      return;\n    } // @ts-ignore\n\n\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n      // @ts-ignore\n      window.dataLayer.push(arguments); // eslint-disable-line prefer-rest-params\n    } // @ts-ignore\n\n\n    gtag('js', new Date()); // @ts-ignore\n\n    gtag('config', googleAnalyticsId);\n    const script = document.createElement('script');\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${googleAnalyticsId}`;\n    script.async = true;\n\n    if (document.body) {\n      document.body.appendChild(script);\n    }\n  }, [setting.googleAnalyticsId]);\n  useEffect(() => {\n    const baiduAnalyticsId = setting.baiduAnalyticsId;\n\n    if (!baiduAnalyticsId) {\n      return;\n    }\n\n    const hm = document.createElement('script');\n    hm.src = `https://hm.baidu.com/hm.js?${baiduAnalyticsId}`;\n    const s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(hm, s);\n  }, [setting.baiduAnalyticsId]);\n  return props.children || null;\n};","map":null,"metadata":{},"sourceType":"module"}