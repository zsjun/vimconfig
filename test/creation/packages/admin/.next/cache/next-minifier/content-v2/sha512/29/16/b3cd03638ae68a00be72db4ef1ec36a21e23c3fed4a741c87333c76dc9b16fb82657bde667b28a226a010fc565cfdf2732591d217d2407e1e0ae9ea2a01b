{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[43],{\"4Jgv\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),u=n(\"1OyB\"),o=n(\"vuIU\"),i=n(\"pUN5\"),s=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,null,[{key:\"getCategory\",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/category\"));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:\"add\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.post(\"/category\",t));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"update\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.patch(\"/category/\".concat(t),n));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"delete\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.delete(\"/category/\".concat(t)));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},\"8Eo5\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),a=n.n(r),c=n(\"Tvge\"),u=a.a.createElement;t.default=function(){return u(c.a,null)}},Tvge:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return oe}));n(\"1/37\");var r=n(\"Kxs1\"),a=n.n(r),c=(n(\"G851\"),n(\"ZvzK\")),u=n.n(c),o=(n(\"PFYH\"),n(\"Jv8k\")),i=n.n(o),s=(n(\"cUip\"),n(\"iJl9\")),l=n.n(s),p=(n(\"eOfH\"),n(\"h0/l\")),f=n.n(p),d=(n(\"MaXC\"),n(\"4IMT\")),v=n.n(d),b=(n(\"fwXI\"),n(\"CC+v\")),y=n.n(b),m=n(\"rePB\"),g=(n(\"tL+A\"),n(\"QpBz\")),h=n.n(g),k=n(\"ODXe\"),O=n(\"q1tI\"),w=n.n(O),j=n(\"TSYQ\"),C=n.n(j),x=n(\"20a2\"),A=n.n(x),P=n(\"4i/N\"),T=n(\"GZ0F\"),E=n(\"TJpk\"),N=n(\"MLMA\"),I=n(\"6HBy\"),B=n(\"M7TQ\"),_=n(\"gFvc\"),D=n(\"hfvm\"),S=(n(\"dc+4\"),n(\"Btem\")),R=n.n(S),U=(n(\"ek7I\"),n(\"FAat\")),J=n.n(U),H=(n(\"LGkk\"),n(\"rVaU\")),M=n.n(H),z=n(\"JT4/\"),X=n(\"4Jgv\"),F=n(\"iatk\"),V=n(\"9kiZ\"),Y=n.n(V),G=w.a.createElement;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=e.label,n=e.content;return G(\"div\",{className:Y.a.formItem},G(\"span\",null,t),G(\"div\",null,n))},q={summary:null,password:null,totalAmount:null,isCommentable:!0,isRecommended:!0,category:null,tags:[],cover:null};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case\"summary\":return Q(Q({},e),{},{summary:n});case\"password\":return Q(Q({},e),{},{password:n});case\"totalAmount\":return Q(Q({},e),{},{totalAmount:n});case\"isCommentable\":return Q(Q({},e),{},{isCommentable:n});case\"isRecommended\":return Q(Q({},e),{},{isRecommended:n});case\"category\":return Q(Q({},e),{},{category:n});case\"tags\":return Q(Q({},e),{},{tags:n});case\"cover\":return Q(Q({},e),{},{cover:n});default:return e}}var W=function(e){var t=e.article,n=e.visible,r=e.onClose,a=e.onChange,c=Object(O.useState)(!1),u=c[0],o=c[1],i=Object(O.useReducer)(K,t),s=i[0],p=i[1],f=Object(O.useState)([]),d=f[0],b=f[1],y=Object(O.useState)([]),m=y[0],g=y[1];Object(O.useEffect)((function(){X.a.getCategory().then((function(e){return b(e)})),F.a.getTags().then((function(e){return g(e)}))}),[]);return G(R.a,{width:480,placement:\"right\",title:\"\\u6587\\u7ae0\\u8bbe\\u7f6e\",closable:!0,onClose:r,visible:n},G(Z,{label:\"\\u6587\\u7ae0\\u6458\\u8981\",content:G(l.a.TextArea,{className:Y.a.formItem,placeholder:\"\\u8bf7\\u8f93\\u5165\\u6587\\u7ae0\\u6458\\u8981\",autoSize:{minRows:6,maxRows:8},value:s.summary,onChange:function(e){p({type:\"summary\",payload:e.target.value})}})}),G(Z,{label:\"\\u8bbf\\u95ee\\u5bc6\\u7801\",content:G(l.a.Password,{placeholder:\"\\u8f93\\u5165\\u540e\\u67e5\\u770b\\u9700\\u8981\\u5bc6\\u7801\",value:s.password,onChange:function(e){p({type:\"password\",payload:e.target.value})}})}),G(Z,{label:\"\\u4ed8\\u8d39\\u67e5\\u770b\",content:G(l.a.Password,{placeholder:\"\\u8f93\\u5165\\u540e\\u9700\\u8981\\u652f\\u4ed8\\u7684\\u8d39\\u7528\",value:s.totalAmount,onChange:function(e){p({type:\"totalAmount\",payload:e.target.value})}})}),G(Z,{label:\"\\u5f00\\u542f\\u8bc4\\u8bba\",content:G(M.a,{checked:s.isCommentable,onChange:function(e){p({type:\"isCommentable\",payload:e})}})}),G(Z,{label:\"\\u9996\\u9875\\u63a8\\u8350\",content:G(M.a,{checked:s.isRecommended,onChange:function(e){p({type:\"isRecommended\",payload:e})}})}),G(Z,{label:\"\\u9009\\u62e9\\u5206\\u7c7b\",content:G(J.a,{value:s.category&&s.category.id||s.category,onChange:function(e){p({type:\"category\",payload:e})},style:{width:\"100%\"}},d.map((function(e){return G(J.a.Option,{key:e.id,value:e.id},e.label)})))}),G(Z,{label:\"\\u9009\\u62e9\\u6807\\u7b7e\",content:G(J.a,{style:{width:\"100%\"},mode:\"tags\",value:(s.tags||[]).map((function(e){return e.id||e})),onChange:function(e){p({type:\"tags\",payload:e})}},m.map((function(e){return G(J.a.Option,{key:e.id,value:e.id},e.label)})))}),G(Z,{label:\"\\u6587\\u7ae0\\u5c01\\u9762\",content:G(\"div\",{className:Y.a.cover},G(\"div\",{onClick:function(){return o(!0)},className:Y.a.preview},G(\"img\",{src:s.cover,alt:\"\\u9884\\u89c8\\u56fe\"})),G(l.a,{placeholder:\"\\u6216\\u8f93\\u5165\\u5916\\u90e8\\u94fe\\u63a5\",value:s.cover,onChange:function(e){p({type:\"cover\",payload:e.target.value})}}),G(v.a,{onClick:function(){p({type:\"cover\",payload:null})}},\"\\u79fb\\u9664\"))}),G(z.a,{closeAfterClick:!0,visible:u,onClose:function(){return o(!1)},onChange:function(e){p({type:\"cover\",payload:e})}}),G(\"div\",{style:{position:\"absolute\",bottom:0,width:\"100%\",borderTop:\"1px solid #e8e8e8\",padding:\"10px 16px\",textAlign:\"right\",left:0,background:\"#fff\",borderRadius:\"0 0 4px 4px\"}},G(v.a,{type:\"primary\",onClick:function(){a(Q(Q({},s),{},{tags:(s.tags||[]).join(\",\")}))}},\"\\u786e\\u8ba4\")))},$=n(\"z6IJ\"),ee=n.n($),te=w.a.createElement;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=[[\"title\",\"\\u8bf7\\u8f93\\u5165\\u6587\\u7ae0\\u6807\\u9898\"],[\"content\",\"\\u8bf7\\u8f93\\u5165\\u6587\\u7ae0\\u5185\\u5bb9\"]],ce=function(e){e.category&&e.category.id&&(e.category=e.category.id)},ue=function(e){if(Array.isArray(e.tags))try{e.tags=e.tags.map((function(e){return e.id})).join(\",\")}catch(t){console.log(t)}},oe=function(e){var t=e.id,n=e.article,r=void 0===n?{title:\"\"}:n,c=!t,o=Object(I.a)(),s=Object(O.useState)(t),p=s[0],d=s[1],b=Object(O.useState)(r),m=b[0],g=b[1],w=Object(B.a)(!1),j=Object(k.a)(w,2),x=j[0],S=j[1],R=Object(O.useMemo)((function(){return function(e){return function(t){t.target&&(t=t.target.value),g((function(n){return n[e]=t,n}))}}}),[]),U=Object(O.useCallback)((function(){var e=!0,t=null;return ae.forEach((function(n){var r=Object(k.a)(n,2),a=r[0],c=r[1];m[a]||(t=c,e=!1)})),e?Promise.resolve():Promise.reject(new Error(t))}),[m]),J=Object(O.useCallback)((function(){U().then((function(){S()})).catch((function(e){h.a.warn(e.message)}))}),[U,S]),H=Object(O.useCallback)((function(e){S(),Object.assign(m,e)}),[m,S]),M=Object(O.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=re(re({},m),e);U().then((function(){ce(t),ue(t),(c?D.a.addArticle(t):D.a.updateArticle(p,t)).then((function(e){d(e.id),h.a.success(\"draft\"===e.status?\"\\u6587\\u7ae0\\u5df2\\u4fdd\\u5b58\\u4e3a\\u8349\\u7a3f\":\"\\u6587\\u7ae0\\u5df2\\u53d1\\u5e03\")}))})).catch((function(e){h.a.warn(e.message)}))}),[m,c,U,p]),z=Object(O.useCallback)((function(){M({status:\"draft\"})}),[M]),X=Object(O.useCallback)((function(){M({status:\"publish\"})}),[M]),F=Object(O.useCallback)((function(){p?window.open(Object(N.d)(o.systemUrl,\"/article/\"+p)):h.a.warn(\"\\u8bf7\\u5148\\u4fdd\\u5b58\")}),[p,o.systemUrl]),V=Object(O.useCallback)((function(){if(p){y.a.confirm({title:\"\\u786e\\u8ba4\\u5220\\u9664\\uff1f\",content:\"\\u5220\\u9664\\u5185\\u5bb9\\u540e\\uff0c\\u65e0\\u6cd5\\u6062\\u590d\\u3002\",onOk:function(){D.a.deleteArticle(p).then((function(){h.a.success(\"\\u6587\\u7ae0\\u5220\\u9664\\u6210\\u529f\"),A.a.push(\"/article\")}))},okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",transitionName:\"\",maskTransitionName:\"\"})}}),[p]);return Object(O.useEffect)((function(){c&&p&&A.a.replace(\"/article/editor/\"+p)}),[p,c]),te(\"div\",{className:ee.a.wrapper},te(E.Helmet,null,te(\"title\",null,p?\"\\u7f16\\u8f91\\u6587\\u7ae0 \".concat(m.title?\"-\"+m.title:\"\"):\"\\u65b0\\u5efa\\u6587\\u7ae0\")),te(\"header\",{className:ee.a.header},te(a.a,{backIcon:te(f.a,{title:\"\\u786e\\u8ba4\\u5173\\u95ed\\uff1f\\u5982\\u679c\\u6709\\u5185\\u5bb9\\u53d8\\u66f4\\uff0c\\u8bf7\\u5148\\u4fdd\\u5b58\\u3002\",onConfirm:function(){return A.a.push(\"/article\")},onCancel:function(){return null},okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",placement:\"rightBottom\"},te(v.a,{size:\"small\",icon:te(P.a,null)})),style:{borderBottom:\"1px solid rgb(235, 237, 240)\"},onBack:function(){return null},title:te(l.a,{style:{width:300},placeholder:\"\\u8bf7\\u8f93\\u5165\\u6587\\u7ae0\\u6807\\u9898\",defaultValue:m.title,onChange:R(\"title\")}),extra:[te(v.a,{key:\"publish\",type:\"primary\",onClick:X},\"\\u53d1\\u5e03\"),te(u.a,{key:\"more\",overlay:te(i.a,null,te(i.a.Item,{key:\"view\",disabled:c,onClick:F},\"\\u67e5\\u770b\"),te(i.a.Item,{key:\"setting\",onClick:J},\"\\u8bbe\\u7f6e\"),te(i.a.Divider,{key:\"divide-1\"}),te(i.a.Item,{key:\"draft\",onClick:z},\"\\u4fdd\\u5b58\\u8349\\u7a3f\"),te(i.a.Divider,{key:\"divide-2\"}),te(i.a.Item,{key:\"delete\",disabled:c,onClick:V},\"\\u5220\\u9664\"))},te(v.a,{icon:te(T.a,null),type:\"link\"}))]})),te(\"main\",{className:C()(ee.a.main)},te(_.a,{defaultValue:m.content,onChange:function(e){var t=e.value,n=e.html,r=e.toc;R(\"content\")(t),R(\"html\")(n),R(\"toc\")(r)}})),te(W,{article:m,visible:x,onClose:S,onChange:H}))}},hfvm:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),u=n(\"1OyB\"),o=n(\"vuIU\"),i=n(\"pUN5\"),s=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,null,[{key:\"getArticles\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/article\",{params:t}));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getArticlesByCategory\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/article/category/\"+t,{params:n}));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"getArticlesByTag\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/article/tag/\"+t,{params:n}));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"getRecommend\",value:function(){var e=Object(c.a)(a.a.mark((function e(){var t,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.abrupt(\"return\",i.a.get(\"/article/recommend\",{params:{articleId:t}}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:\"getArchives\",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/article/archives\"));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:\"getArticle\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/article/\".concat(t)));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"addArticle\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.post(\"/article\",t));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"updateArticle\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.patch(\"/article/\".concat(t),n));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"updateArticleViews\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.post(\"/article/\".concat(t,\"/views\")));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"checkPassword\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.post(\"/article/\".concat(t,\"/checkPassword\"),{password:n}));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"deleteArticle\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.delete(\"/article/\".concat(t)));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},iatk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),u=n(\"1OyB\"),o=n(\"vuIU\"),i=n(\"pUN5\"),s=function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,null,[{key:\"getTags\",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.get(\"/tag\"));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:\"getTagWithArticles\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt(\"return\",i.a.get(\"/tag/\".concat(t,\"/article\"),n?{params:{status:\"publish\"}}:{}));case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"addTag\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.post(\"/tag\",t));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"updateTag\",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.patch(\"/tag/\".concat(t),n));case 1:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"deleteTag\",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.a.delete(\"/tag/\".concat(t)));case 1:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},kYmt:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/article/editor\",function(){return n(\"8Eo5\")}])}},[[\"kYmt\",2,3,0,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,25,24,26,27,1]]]);","map":{"version":3,"sources":["static/chunks/pages/article/editor-1170e874bf1f9a49904b.js"],"names":["_N_E","window","push","4Jgv","module","__webpack_exports__","__webpack_require__","d","CategoryProvider","_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","_http__WEBPACK_IMPORTED_MODULE_4__","Object","this","key","value","_getCategory","a","mark","_callee","wrap","_context","prev","next","abrupt","get","stop","apply","arguments","_add","_callee2","data","_context2","post","_x","_update","_callee3","id","_context3","patch","concat","_x2","_x3","_delete2","_callee4","_context4","_x4","8Eo5","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_components_ArticleEditor__WEBPACK_IMPORTED_MODULE_1__","__jsx","createElement","Tvge","ArticleEditor_ArticleEditor","page_header","page_header_default","dropdown","dropdown_default","menu","menu_default","input","input_default","popconfirm","popconfirm_default","lib_button","button_default","modal","modal_default","defineProperty","message","message_default","slicedToArray","react","react_default","classnames","classnames_default","router","router_default","CloseOutlined","EllipsisOutlined","Helmet","utils","useSetting","useToggle","Editor","providers_article","drawer","drawer_default","lib_select","select_default","lib_switch","switch_default","FileSelectDrawer","category","providers_tag","index_module","index_module_default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","length","source","forEach","getOwnPropertyDescriptors","defineProperties","ArticleSettingDrawer_FormItem","_ref","label","content","className","formItem","initialArticleAttrs","summary","password","totalAmount","isCommentable","isRecommended","tags","cover","reducer","state","undefined","action","payload","type","ArticleSettingDrawer_ArticleSettingDrawer","_ref2","article","visible","onClose","onChange","_useState","fileVisible","setFileVisible","_useReducer","attrs","dispatch","_useState2","categorys","setCategorys","_useState3","setTags","getCategory","then","res","getTags","width","placement","title","closable","TextArea","placeholder","autoSize","minRows","maxRows","e","Password","checked","val","style","map","t","Option","mode","tag","onClick","preview","src","alt","closeAfterClick","url","position","bottom","borderTop","padding","textAlign","left","background","borderRadius","join","ArticleEditor_index_module","ArticleEditor_index_module_default","ArticleEditor_jsx","ArticleEditor_ownKeys","ArticleEditor_objectSpread","REQUIRED_ARTICLE_ATTRS","transformCategory","transformTags","Array","isArray","console","log","defaultId","_ref$article","defaultArticle","isCreate","setting","setId","setArticle","_useToggle","_useToggle2","settingDrawerVisible","toggleSettingDrawerVisible","patchArticle","check","canPublish","errorMsg","_ref3","msg","Promise","resolve","reject","Error","openSetting","err","warn","saveSetting","assign","saveOrPublish","addArticle","updateArticle","success","status","saveDraft","publish","open","systemUrl","deleteArticle","confirm","onOk","okText","cancelText","transitionName","maskTransitionName","replace","wrapper","header","backIcon","onConfirm","onCancel","size","icon","borderBottom","onBack","defaultValue","extra","overlay","Item","disabled","Divider","main","_ref4","html","toc","hfvm","ArticleProvider","_getArticles","params","_getArticlesByCategory","_getArticlesByTag","_x5","_getRecommend","articleId","_args4","_getArchives","_callee5","_context5","_getArticle","_callee6","_context6","_x6","_addArticle","_callee7","_context7","_x7","_updateArticle","_callee8","_context8","_x8","_x9","_updateArticleViews","_callee9","_context9","_x10","_checkPassword","_callee10","_context10","_x11","_x12","_deleteArticle","_callee11","_context11","_x13","iatk","TagProvider","_getTags","_getTagWithArticles","needFilter","_args2","_addTag","_updateTag","_deleteTag","kYmt","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/article/editor-1170e874bf1f9a49904b.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[43],{\n\n/***/ \"4Jgv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CategoryProvider; });\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"pUN5\");\n\n\n\n\n\nvar CategoryProvider = /*#__PURE__*/function () {\n  function CategoryProvider() {\n    Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, CategoryProvider);\n  }\n\n  Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(CategoryProvider, null, [{\n    key: \"getCategory\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getCategory = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/category'));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCategory() {\n        return _getCategory.apply(this, arguments);\n      }\n\n      return getCategory;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"add\",\n    value: function () {\n      var _add = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post('/category', data));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function add(_x) {\n        return _add.apply(this, arguments);\n      }\n\n      return add;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(id, data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].patch(\"/category/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function update(_x2, _x3) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"][\"delete\"](\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function _delete(_x4) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }]);\n\n  return CategoryProvider;\n}();\n\n/***/ }),\n\n/***/ \"8Eo5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ArticleEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"Tvge\");\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;\n\n\n\nvar Editor = function Editor() {\n  return __jsx(_components_ArticleEditor__WEBPACK_IMPORTED_MODULE_1__[/* ArticleEditor */ \"a\"], null);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Editor);\n\n/***/ }),\n\n/***/ \"Tvge\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ ArticleEditor_ArticleEditor; });\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/page-header/style/index.js\nvar style = __webpack_require__(\"1/37\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/page-header/index.js\nvar page_header = __webpack_require__(\"Kxs1\");\nvar page_header_default = /*#__PURE__*/__webpack_require__.n(page_header);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/dropdown/style/index.js\nvar dropdown_style = __webpack_require__(\"G851\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/dropdown/index.js\nvar dropdown = __webpack_require__(\"ZvzK\");\nvar dropdown_default = /*#__PURE__*/__webpack_require__.n(dropdown);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/menu/style/index.js\nvar menu_style = __webpack_require__(\"PFYH\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/menu/index.js\nvar menu = __webpack_require__(\"Jv8k\");\nvar menu_default = /*#__PURE__*/__webpack_require__.n(menu);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/input/style/index.js\nvar input_style = __webpack_require__(\"cUip\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/input/index.js\nvar input = __webpack_require__(\"iJl9\");\nvar input_default = /*#__PURE__*/__webpack_require__.n(input);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/popconfirm/style/index.js\nvar popconfirm_style = __webpack_require__(\"eOfH\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/popconfirm/index.js\nvar popconfirm = __webpack_require__(\"h0/l\");\nvar popconfirm_default = /*#__PURE__*/__webpack_require__.n(popconfirm);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/button/style/index.js\nvar button_style = __webpack_require__(\"MaXC\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/button/index.js\nvar lib_button = __webpack_require__(\"4IMT\");\nvar button_default = /*#__PURE__*/__webpack_require__.n(lib_button);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/modal/style/index.js\nvar modal_style = __webpack_require__(\"fwXI\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/modal/index.js\nvar modal = __webpack_require__(\"CC+v\");\nvar modal_default = /*#__PURE__*/__webpack_require__.n(modal);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/message/style/index.js\nvar message_style = __webpack_require__(\"tL+A\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/message/index.js\nvar message = __webpack_require__(\"QpBz\");\nvar message_default = /*#__PURE__*/__webpack_require__.n(message);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"ODXe\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"TSYQ\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar router = __webpack_require__(\"20a2\");\nvar router_default = /*#__PURE__*/__webpack_require__.n(router);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CloseOutlined.js + 1 modules\nvar CloseOutlined = __webpack_require__(\"4i/N\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js + 1 modules\nvar EllipsisOutlined = __webpack_require__(\"GZ0F\");\n\n// EXTERNAL MODULE: ./node_modules/react-helmet/lib/Helmet.js\nvar Helmet = __webpack_require__(\"TJpk\");\n\n// EXTERNAL MODULE: ./src/utils/index.tsx\nvar utils = __webpack_require__(\"MLMA\");\n\n// EXTERNAL MODULE: ./src/hooks/useSetting.ts\nvar useSetting = __webpack_require__(\"6HBy\");\n\n// EXTERNAL MODULE: ./src/hooks/useToggle.ts\nvar useToggle = __webpack_require__(\"M7TQ\");\n\n// EXTERNAL MODULE: ./src/components/Editor/index.tsx + 15 modules\nvar Editor = __webpack_require__(\"gFvc\");\n\n// EXTERNAL MODULE: ./src/providers/article.ts\nvar providers_article = __webpack_require__(\"hfvm\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/drawer/style/index.js\nvar drawer_style = __webpack_require__(\"dc+4\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/drawer/index.js\nvar drawer = __webpack_require__(\"Btem\");\nvar drawer_default = /*#__PURE__*/__webpack_require__.n(drawer);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/select/style/index.js\nvar select_style = __webpack_require__(\"ek7I\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/select/index.js\nvar lib_select = __webpack_require__(\"FAat\");\nvar select_default = /*#__PURE__*/__webpack_require__.n(lib_select);\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/switch/style/index.js\nvar switch_style = __webpack_require__(\"LGkk\");\n\n// EXTERNAL MODULE: ./node_modules/antd/lib/switch/index.js\nvar lib_switch = __webpack_require__(\"rVaU\");\nvar switch_default = /*#__PURE__*/__webpack_require__.n(lib_switch);\n\n// EXTERNAL MODULE: ./src/components/FileSelectDrawer/index.tsx\nvar FileSelectDrawer = __webpack_require__(\"JT4/\");\n\n// EXTERNAL MODULE: ./src/providers/category.ts\nvar category = __webpack_require__(\"4Jgv\");\n\n// EXTERNAL MODULE: ./src/providers/tag.ts\nvar providers_tag = __webpack_require__(\"iatk\");\n\n// EXTERNAL MODULE: ./src/components/ArticleEditor/ArticleSettingDrawer/index.module.scss\nvar index_module = __webpack_require__(\"9kiZ\");\nvar index_module_default = /*#__PURE__*/__webpack_require__.n(index_module);\n\n// CONCATENATED MODULE: ./src/components/ArticleEditor/ArticleSettingDrawer/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar __jsx = react_default.a.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nvar ArticleSettingDrawer_FormItem = function FormItem(_ref) {\n  var label = _ref.label,\n      content = _ref.content;\n  return __jsx(\"div\", {\n    className: index_module_default.a.formItem\n  }, __jsx(\"span\", null, label), __jsx(\"div\", null, content));\n};\n\nvar initialArticleAttrs = {\n  summary: null,\n  // 摘要\n  password: null,\n  // 密码\n  totalAmount: null,\n  //支付金额\n  isCommentable: true,\n  // 评论\n  isRecommended: true,\n  // 推荐到首页\n  category: null,\n  // 分类\n  tags: [],\n  // 标签\n  cover: null // 封面\n\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialArticleAttrs;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case 'summary':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        summary: payload\n      });\n\n    case 'password':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        password: payload\n      });\n\n    case 'totalAmount':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        totalAmount: payload\n      });\n\n    case 'isCommentable':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isCommentable: payload\n      });\n\n    case 'isRecommended':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isRecommended: payload\n      });\n\n    case 'category':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        category: payload\n      });\n\n    case 'tags':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        tags: payload\n      });\n\n    case 'cover':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cover: payload\n      });\n\n    default:\n      return state;\n  }\n}\n\nvar ArticleSettingDrawer_ArticleSettingDrawer = function ArticleSettingDrawer(_ref2) {\n  var article = _ref2.article,\n      visible = _ref2.visible,\n      onClose = _ref2.onClose,\n      onChange = _ref2.onChange;\n\n  var _useState = Object(react[\"useState\"])(false),\n      fileVisible = _useState[0],\n      setFileVisible = _useState[1];\n\n  var _useReducer = Object(react[\"useReducer\"])(reducer, article),\n      attrs = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var _useState2 = Object(react[\"useState\"])([]),\n      categorys = _useState2[0],\n      setCategorys = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])([]),\n      tags = _useState3[0],\n      setTags = _useState3[1];\n\n  Object(react[\"useEffect\"])(function () {\n    category[\"a\" /* CategoryProvider */].getCategory().then(function (res) {\n      return setCategorys(res);\n    });\n    providers_tag[\"a\" /* TagProvider */].getTags().then(function (tags) {\n      return setTags(tags);\n    });\n  }, []);\n\n  var ok = function ok() {\n    onChange(_objectSpread(_objectSpread({}, attrs), {}, {\n      tags: (attrs.tags || []).join(',')\n    }));\n  };\n\n  return __jsx(drawer_default.a, {\n    width: 480,\n    placement: \"right\",\n    title: '文章设置',\n    closable: true,\n    onClose: onClose,\n    visible: visible\n  }, __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u6587\\u7AE0\\u6458\\u8981\",\n    content: __jsx(input_default.a.TextArea, {\n      className: index_module_default.a.formItem,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u6458\\u8981\",\n      autoSize: {\n        minRows: 6,\n        maxRows: 8\n      },\n      value: attrs.summary,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'summary',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u8BBF\\u95EE\\u5BC6\\u7801\",\n    content: __jsx(input_default.a.Password, {\n      placeholder: \"\\u8F93\\u5165\\u540E\\u67E5\\u770B\\u9700\\u8981\\u5BC6\\u7801\",\n      value: attrs.password,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'password',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u4ED8\\u8D39\\u67E5\\u770B\",\n    content: __jsx(input_default.a.Password, {\n      placeholder: \"\\u8F93\\u5165\\u540E\\u9700\\u8981\\u652F\\u4ED8\\u7684\\u8D39\\u7528\",\n      value: attrs.totalAmount,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'totalAmount',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u5F00\\u542F\\u8BC4\\u8BBA\",\n    content: __jsx(switch_default.a, {\n      checked: attrs.isCommentable,\n      onChange: function onChange(val) {\n        dispatch({\n          type: 'isCommentable',\n          payload: val\n        });\n      }\n    })\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u9996\\u9875\\u63A8\\u8350\",\n    content: __jsx(switch_default.a, {\n      checked: attrs.isRecommended,\n      onChange: function onChange(val) {\n        dispatch({\n          type: 'isRecommended',\n          payload: val\n        });\n      }\n    })\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u9009\\u62E9\\u5206\\u7C7B\",\n    content: __jsx(select_default.a, {\n      value: attrs.category && attrs.category.id || attrs.category,\n      onChange: function onChange(id) {\n        dispatch({\n          type: 'category',\n          payload: id\n        });\n      },\n      style: {\n        width: '100%'\n      }\n    }, categorys.map(function (t) {\n      return __jsx(select_default.a.Option, {\n        key: t.id,\n        value: t.id\n      }, t.label);\n    }))\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u9009\\u62E9\\u6807\\u7B7E\",\n    content: __jsx(select_default.a, {\n      style: {\n        width: '100%'\n      },\n      mode: \"tags\",\n      value: (attrs.tags || []).map(function (t) {\n        return t.id || t;\n      }),\n      onChange: function onChange(tags) {\n        dispatch({\n          type: 'tags',\n          payload: tags\n        });\n      }\n    }, tags.map(function (tag) {\n      return __jsx(select_default.a.Option, {\n        key: tag.id,\n        value: tag.id\n      }, tag.label);\n    }))\n  }), __jsx(ArticleSettingDrawer_FormItem, {\n    label: \"\\u6587\\u7AE0\\u5C01\\u9762\",\n    content: __jsx(\"div\", {\n      className: index_module_default.a.cover\n    }, __jsx(\"div\", {\n      onClick: function onClick() {\n        return setFileVisible(true);\n      },\n      className: index_module_default.a.preview\n    }, __jsx(\"img\", {\n      src: attrs.cover,\n      alt: \"\\u9884\\u89C8\\u56FE\"\n    })), __jsx(input_default.a, {\n      placeholder: \"\\u6216\\u8F93\\u5165\\u5916\\u90E8\\u94FE\\u63A5\",\n      value: attrs.cover,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'cover',\n          payload: e.target.value\n        });\n      }\n    }), __jsx(button_default.a, {\n      onClick: function onClick() {\n        dispatch({\n          type: 'cover',\n          payload: null\n        });\n      }\n    }, \"\\u79FB\\u9664\"))\n  }), __jsx(FileSelectDrawer[\"a\" /* FileSelectDrawer */], {\n    closeAfterClick: true,\n    visible: fileVisible,\n    onClose: function onClose() {\n      return setFileVisible(false);\n    },\n    onChange: function onChange(url) {\n      dispatch({\n        type: 'cover',\n        payload: url\n      });\n    }\n  }), __jsx(\"div\", {\n    style: {\n      position: 'absolute',\n      bottom: 0,\n      width: '100%',\n      borderTop: '1px solid #e8e8e8',\n      padding: '10px 16px',\n      textAlign: 'right',\n      left: 0,\n      background: '#fff',\n      borderRadius: '0 0 4px 4px'\n    }\n  }, __jsx(button_default.a, {\n    type: \"primary\",\n    onClick: ok\n  }, \"\\u786E\\u8BA4\")));\n};\n// EXTERNAL MODULE: ./src/components/ArticleEditor/index.module.scss\nvar ArticleEditor_index_module = __webpack_require__(\"z6IJ\");\nvar ArticleEditor_index_module_default = /*#__PURE__*/__webpack_require__.n(ArticleEditor_index_module);\n\n// CONCATENATED MODULE: ./src/components/ArticleEditor/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ArticleEditor_jsx = react_default.a.createElement;\n\nfunction ArticleEditor_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction ArticleEditor_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ArticleEditor_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ArticleEditor_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar REQUIRED_ARTICLE_ATTRS = [['title', '请输入文章标题'], ['content', '请输入文章内容']]; // 副作用：传给服务端的 category 需要是 id\n\nvar transformCategory = function transformCategory(article) {\n  if (article.category && article.category.id) {\n    article.category = article.category.id;\n  }\n};\n\nvar transformTags = function transformTags(article) {\n  if (Array.isArray(article.tags)) {\n    try {\n      article.tags = article.tags.map(function (t) {\n        return t.id;\n      }).join(',');\n    } catch (e) {\n      console.log(e);\n    }\n  }\n};\n\nvar ArticleEditor_ArticleEditor = function ArticleEditor(_ref) {\n  var defaultId = _ref.id,\n      _ref$article = _ref.article,\n      defaultArticle = _ref$article === void 0 ? {\n    title: ''\n  } : _ref$article;\n  var isCreate = !defaultId; // 一开始是否是新建\n\n  var setting = Object(useSetting[\"a\" /* useSetting */])();\n\n  var _useState = Object(react[\"useState\"])(defaultId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(defaultArticle),\n      article = _useState2[0],\n      setArticle = _useState2[1];\n\n  var _useToggle = Object(useToggle[\"a\" /* useToggle */])(false),\n      _useToggle2 = Object(slicedToArray[\"a\" /* default */])(_useToggle, 2),\n      settingDrawerVisible = _useToggle2[0],\n      toggleSettingDrawerVisible = _useToggle2[1];\n\n  var patchArticle = Object(react[\"useMemo\"])(function () {\n    return function (key) {\n      return function (value) {\n        if (value.target) {\n          value = value.target.value;\n        }\n\n        setArticle(function (article) {\n          article[key] = value;\n          return article;\n        });\n      };\n    };\n  }, []); // 校验文章必要属性\n\n  var check = Object(react[\"useCallback\"])(function () {\n    var canPublish = true;\n    var errorMsg = null;\n    REQUIRED_ARTICLE_ATTRS.forEach(function (_ref2) {\n      var _ref3 = Object(slicedToArray[\"a\" /* default */])(_ref2, 2),\n          key = _ref3[0],\n          msg = _ref3[1];\n\n      if (!article[key]) {\n        errorMsg = msg;\n        canPublish = false;\n      }\n    });\n\n    if (!canPublish) {\n      return Promise.reject(new Error(errorMsg));\n    }\n\n    return Promise.resolve();\n  }, [article]); // 打开发布抽屉\n\n  var openSetting = Object(react[\"useCallback\"])(function () {\n    check().then(function () {\n      toggleSettingDrawerVisible();\n    })[\"catch\"](function (err) {\n      message_default.a.warn(err.message);\n    });\n  }, [check, toggleSettingDrawerVisible]);\n  var saveSetting = Object(react[\"useCallback\"])(function (setting) {\n    toggleSettingDrawerVisible();\n    Object.assign(article, setting);\n  }, [article, toggleSettingDrawerVisible]); // 保存草稿或者发布线上\n\n  var saveOrPublish = Object(react[\"useCallback\"])(function () {\n    var patch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var data = ArticleEditor_objectSpread(ArticleEditor_objectSpread({}, article), patch);\n\n    check().then(function () {\n      transformCategory(data);\n      transformTags(data);\n      var promise = !isCreate ? providers_article[\"a\" /* ArticleProvider */].updateArticle(id, data) : providers_article[\"a\" /* ArticleProvider */].addArticle(data);\n      promise.then(function (res) {\n        setId(res.id);\n\n        message_default.a.success(res.status === 'draft' ? '文章已保存为草稿' : '文章已发布');\n      });\n    })[\"catch\"](function (err) {\n      message_default.a.warn(err.message);\n    });\n  }, [article, isCreate, check, id]);\n  var saveDraft = Object(react[\"useCallback\"])(function () {\n    saveOrPublish({\n      status: 'draft'\n    });\n  }, [saveOrPublish]);\n  var publish = Object(react[\"useCallback\"])(function () {\n    saveOrPublish({\n      status: 'publish'\n    });\n  }, [saveOrPublish]); // 预览文章\n\n  var preview = Object(react[\"useCallback\"])(function () {\n    if (id) {\n      window.open(Object(utils[\"d\" /* resolveUrl */])(setting.systemUrl, '/article/' + id));\n    } else {\n      message_default.a.warn('请先保存');\n    }\n  }, [id, setting.systemUrl]);\n  var deleteArticle = Object(react[\"useCallback\"])(function () {\n    if (!id) {\n      return;\n    }\n\n    var handle = function handle() {\n      providers_article[\"a\" /* ArticleProvider */].deleteArticle(id).then(function () {\n        message_default.a.success('文章删除成功');\n\n        router_default.a.push('/article');\n      });\n    };\n\n    modal_default.a.confirm({\n      title: '确认删除？',\n      content: '删除内容后，无法恢复。',\n      onOk: handle,\n      okText: '确认',\n      cancelText: '取消',\n      transitionName: '',\n      maskTransitionName: ''\n    });\n  }, [id]);\n  Object(react[\"useEffect\"])(function () {\n    if (isCreate && id) {\n      router_default.a.replace('/article/editor/' + id);\n    }\n  }, [id, isCreate]);\n  return ArticleEditor_jsx(\"div\", {\n    className: ArticleEditor_index_module_default.a.wrapper\n  }, ArticleEditor_jsx(Helmet[\"Helmet\"], null, ArticleEditor_jsx(\"title\", null, id ? \"\\u7F16\\u8F91\\u6587\\u7AE0 \".concat(article.title ? '-' + article.title : '') : '新建文章')), ArticleEditor_jsx(\"header\", {\n    className: ArticleEditor_index_module_default.a.header\n  }, ArticleEditor_jsx(page_header_default.a, {\n    backIcon: ArticleEditor_jsx(popconfirm_default.a, {\n      title: \"\\u786E\\u8BA4\\u5173\\u95ED\\uFF1F\\u5982\\u679C\\u6709\\u5185\\u5BB9\\u53D8\\u66F4\\uFF0C\\u8BF7\\u5148\\u4FDD\\u5B58\\u3002\",\n      onConfirm: function onConfirm() {\n        return router_default.a.push('/article');\n      },\n      onCancel: function onCancel() {\n        return null;\n      },\n      okText: \"\\u786E\\u8BA4\",\n      cancelText: \"\\u53D6\\u6D88\",\n      placement: \"rightBottom\"\n    }, ArticleEditor_jsx(button_default.a, {\n      size: \"small\",\n      icon: ArticleEditor_jsx(CloseOutlined[\"a\" /* default */], null)\n    })),\n    style: {\n      borderBottom: '1px solid rgb(235, 237, 240)'\n    },\n    onBack: function onBack() {\n      return null;\n    },\n    title: ArticleEditor_jsx(input_default.a, {\n      style: {\n        width: 300\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u6807\\u9898\",\n      defaultValue: article.title,\n      onChange: patchArticle('title')\n    }),\n    extra: [ArticleEditor_jsx(button_default.a, {\n      key: \"publish\",\n      type: \"primary\",\n      onClick: publish\n    }, \"\\u53D1\\u5E03\"), ArticleEditor_jsx(dropdown_default.a, {\n      key: \"more\",\n      overlay: ArticleEditor_jsx(menu_default.a, null, ArticleEditor_jsx(menu_default.a.Item, {\n        key: \"view\",\n        disabled: isCreate,\n        onClick: preview\n      }, \"\\u67E5\\u770B\"), ArticleEditor_jsx(menu_default.a.Item, {\n        key: \"setting\",\n        onClick: openSetting\n      }, \"\\u8BBE\\u7F6E\"), ArticleEditor_jsx(menu_default.a.Divider, {\n        key: \"divide-1\"\n      }), ArticleEditor_jsx(menu_default.a.Item, {\n        key: \"draft\",\n        onClick: saveDraft\n      }, \"\\u4FDD\\u5B58\\u8349\\u7A3F\"), ArticleEditor_jsx(menu_default.a.Divider, {\n        key: \"divide-2\"\n      }), ArticleEditor_jsx(menu_default.a.Item, {\n        key: \"delete\",\n        disabled: isCreate,\n        onClick: deleteArticle\n      }, \"\\u5220\\u9664\"))\n    }, ArticleEditor_jsx(button_default.a, {\n      icon: ArticleEditor_jsx(EllipsisOutlined[\"a\" /* default */], null),\n      type: \"link\"\n    }))]\n  })), ArticleEditor_jsx(\"main\", {\n    className: classnames_default()(ArticleEditor_index_module_default.a.main)\n  }, ArticleEditor_jsx(Editor[\"a\" /* Editor */], {\n    defaultValue: article.content,\n    onChange: function onChange(_ref4) {\n      var value = _ref4.value,\n          html = _ref4.html,\n          toc = _ref4.toc;\n      patchArticle('content')(value);\n      patchArticle('html')(html);\n      patchArticle('toc')(toc);\n    }\n  })), ArticleEditor_jsx(ArticleSettingDrawer_ArticleSettingDrawer, {\n    article: article,\n    visible: settingDrawerVisible,\n    onClose: toggleSettingDrawerVisible,\n    onChange: saveSetting\n  }));\n};\n\n/***/ }),\n\n/***/ \"hfvm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ArticleProvider; });\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"pUN5\");\n\n\n\n\n\nvar ArticleProvider = /*#__PURE__*/function () {\n  function ArticleProvider() {\n    Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, ArticleProvider);\n  }\n\n  Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(ArticleProvider, null, [{\n    key: \"getArticles\",\n\n    /**\n     * 获取所有文章\n     */\n    value: function () {\n      var _getArticles = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(params) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/article', {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getArticles(_x) {\n        return _getArticles.apply(this, arguments);\n      }\n\n      return getArticles;\n    }()\n    /**\n     * 获取分类所有文章\n     * @param category\n     * @param params\n     */\n\n  }, {\n    key: \"getArticlesByCategory\",\n    value: function () {\n      var _getArticlesByCategory = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(category, params) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/article/category/' + category, {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getArticlesByCategory(_x2, _x3) {\n        return _getArticlesByCategory.apply(this, arguments);\n      }\n\n      return getArticlesByCategory;\n    }()\n    /**\n     * 获取标签所有文章\n     * @param tag\n     * @param params\n     */\n\n  }, {\n    key: \"getArticlesByTag\",\n    value: function () {\n      var _getArticlesByTag = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(tag, params) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/article/tag/' + tag, {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getArticlesByTag(_x4, _x5) {\n        return _getArticlesByTag.apply(this, arguments);\n      }\n\n      return getArticlesByTag;\n    }()\n    /**\n     * 获取推荐文章\n     * @param articleId\n     */\n\n  }, {\n    key: \"getRecommend\",\n    value: function () {\n      var _getRecommend = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4() {\n        var articleId,\n            _args4 = arguments;\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                articleId = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : null;\n                return _context4.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/article/recommend', {\n                  params: {\n                    articleId: articleId\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getRecommend() {\n        return _getRecommend.apply(this, arguments);\n      }\n\n      return getRecommend;\n    }()\n    /**\n     * 获取所有文章归档\n     */\n\n  }, {\n    key: \"getArchives\",\n    value: function () {\n      var _getArchives = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5() {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/article/archives'));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function getArchives() {\n        return _getArchives.apply(this, arguments);\n      }\n\n      return getArchives;\n    }()\n    /**\n     * 获取指定文章\n     * @param id\n     */\n\n  }, {\n    key: \"getArticle\",\n    value: function () {\n      var _getArticle = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get(\"/article/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getArticle(_x6) {\n        return _getArticle.apply(this, arguments);\n      }\n\n      return getArticle;\n    }()\n    /**\n     * 新建文章\n     * @param data\n     */\n\n  }, {\n    key: \"addArticle\",\n    value: function () {\n      var _addArticle = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post('/article', data));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function addArticle(_x7) {\n        return _addArticle.apply(this, arguments);\n      }\n\n      return addArticle;\n    }()\n    /**\n     * 更新文章\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateArticle\",\n    value: function () {\n      var _updateArticle = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee8(id, data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].patch(\"/article/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function updateArticle(_x8, _x9) {\n        return _updateArticle.apply(this, arguments);\n      }\n\n      return updateArticle;\n    }()\n    /**\n     * 更新文章阅读量\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateArticleViews\",\n    value: function () {\n      var _updateArticleViews = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee9(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post(\"/article/\".concat(id, \"/views\")));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function updateArticleViews(_x10) {\n        return _updateArticleViews.apply(this, arguments);\n      }\n\n      return updateArticleViews;\n    }()\n    /**\n     * 校验文章密码是否正确\n     * @param id\n     * @param password\n     */\n\n  }, {\n    key: \"checkPassword\",\n    value: function () {\n      var _checkPassword = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee10(id, password) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post(\"/article/\".concat(id, \"/checkPassword\"), {\n                  password: password\n                }));\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function checkPassword(_x11, _x12) {\n        return _checkPassword.apply(this, arguments);\n      }\n\n      return checkPassword;\n    }()\n    /**\n     * 删除文章\n     * @param id\n     */\n\n  }, {\n    key: \"deleteArticle\",\n    value: function () {\n      var _deleteArticle = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee11(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                return _context11.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"][\"delete\"](\"/article/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function deleteArticle(_x13) {\n        return _deleteArticle.apply(this, arguments);\n      }\n\n      return deleteArticle;\n    }()\n  }]);\n\n  return ArticleProvider;\n}();\n\n/***/ }),\n\n/***/ \"iatk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TagProvider; });\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"1OyB\");\n/* harmony import */ var _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"vuIU\");\n/* harmony import */ var _http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"pUN5\");\n\n\n\n\n\nvar TagProvider = /*#__PURE__*/function () {\n  function TagProvider() {\n    Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(this, TagProvider);\n  }\n\n  Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(TagProvider, null, [{\n    key: \"getTags\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getTags = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get('/tag'));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getTags() {\n        return _getTags.apply(this, arguments);\n      }\n\n      return getTags;\n    }()\n    /**\n     * 获取指定标签下文章\n     * @param id\n     */\n\n  }, {\n    key: \"getTagWithArticles\",\n    value: function () {\n      var _getTagWithArticles = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(id) {\n        var needFilter,\n            _args2 = arguments;\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                needFilter = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;\n                return _context2.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].get(\"/tag/\".concat(id, \"/article\"), needFilter ? {\n                  params: {\n                    status: 'publish'\n                  }\n                } : {}));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getTagWithArticles(_x) {\n        return _getTagWithArticles.apply(this, arguments);\n      }\n\n      return getTagWithArticles;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"addTag\",\n    value: function () {\n      var _addTag = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].post('/tag', data));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function addTag(_x2) {\n        return _addTag.apply(this, arguments);\n      }\n\n      return addTag;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateTag\",\n    value: function () {\n      var _updateTag = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(id, data) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"].patch(\"/tag/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function updateTag(_x3, _x4) {\n        return _updateTag.apply(this, arguments);\n      }\n\n      return updateTag;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"deleteTag\",\n    value: function () {\n      var _deleteTag = Object(_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(id) {\n        return _Users_zsj_work_vimconfig_test_creation_packages_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", _http__WEBPACK_IMPORTED_MODULE_4__[/* httpProvider */ \"a\"][\"delete\"](\"/tag/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function deleteTag(_x5) {\n        return _deleteTag.apply(this, arguments);\n      }\n\n      return deleteTag;\n    }()\n  }]);\n\n  return TagProvider;\n}();\n\n/***/ }),\n\n/***/ \"kYmt\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/article/editor\",\n      function () {\n        return __webpack_require__(\"8Eo5\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"kYmt\",2,3,0,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,25,24,26,27,1]]]);","inputSourceMap":{"version":3,"sources":["/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/src/providers/category.ts","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/pages/article/editor/index.tsx","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/src/components/ArticleEditor/ArticleSettingDrawer/index.tsx","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/src/components/ArticleEditor/index.tsx","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/src/providers/article.ts","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/zsj/work/vimconfig/test/creation/packages/admin/src/providers/tag.ts","/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Farticle%2Feditor&absolutePagePath=private-next-pages%2Farticle%2Feditor%2Findex.tsx!"],"names":[],"mappings":"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BAAmB,eAAM;AACzB,iBAAiB,sBAAK;AACtB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,eAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,eAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,gBAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,gBAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,gBAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,mBAAmB,gBAAO;AAC1B;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA,mBAAmB,gBAAO;AAC1B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,mBAAmB,gBAAO;AAC1B;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG,SAAS,6BAAQ;AACpB;AACA;AACA,iBAAiB,sBAAK;AACtB,KAAK;AACL;AACA;AACA,OAAO;AACP,iBAAiB,sBAAK;AACtB,KAAK;AACL;AACA;AACA,KAAK,UAAU,eAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK,SAAS,gBAAO;AACrB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG,SAAS,4CAAgB;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,G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;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,0BAA0B,sKAAiB,eAAe,oIAAmB;AAC7E;AACA;AACA,eAAe,oIAAmB;AAClC;AACA;AACA;AACA;AACA,kDAAkD,0DAAY;AAC9D;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,yBAAyB,sKAAiB,eAAe,oIAAmB;AAC5E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,wBAAwB,sKAAiB,eAAe,oIAAmB;AAC3E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,wBAAwB,sKAAiB,eAAe,oIAAmB;AAC3E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,2BAA2B,sKAAiB,eAAe,oIAAmB;AAC9E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,gCAAgC,sKAAiB,eAAe,oIAAmB;AACnF,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,2BAA2B,sKAAiB,eAAe,oIAAmB;AAC9E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,mDAAmD,0DAAY;AAC/D;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,2BAA2B,sKAAiB,eAAe,oIAAmB;AAC9E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,mDAAmD,0DAAY;;AAE/D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;AC9VD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACe;AACJ;AACN;AAChG;AAC/B;AACP;AACA,IAAI,oKAAe;AACnB;;AAEA,EAAE,iKAAY;AACd;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,sKAAiB,eAAe,oIAAmB;AACxE,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,iDAAiD,0DAAY;;AAE7D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,gCAAgC,sKAAiB,eAAe,oIAAmB;AACnF;AACA;AACA,eAAe,oIAAmB;AAClC;AACA;AACA;AACA;AACA,kDAAkD,0DAAY;AAC9D;AACA;AACA;AACA,iBAAiB,KAAK;;AAEtB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,oBAAoB,sKAAiB,eAAe,oIAAmB;AACvE,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,uBAAuB,sKAAiB,eAAe,oIAAmB;AAC1E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,uBAAuB,sKAAiB,eAAe,oIAAmB;AAC1E,eAAe,oIAAmB;AAClC;AACA;AACA;AACA,kDAAkD,0DAAY;;AAE9D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;ACpKD;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA6C;AACpE;AACA","file":"x","sourcesContent":["import _regeneratorRuntime from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { httpProvider } from './http';\nexport var CategoryProvider = /*#__PURE__*/function () {\n  function CategoryProvider() {\n    _classCallCheck(this, CategoryProvider);\n  }\n\n  _createClass(CategoryProvider, null, [{\n    key: \"getCategory\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getCategory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", httpProvider.get('/category'));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getCategory() {\n        return _getCategory.apply(this, arguments);\n      }\n\n      return getCategory;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"add\",\n    value: function () {\n      var _add = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", httpProvider.post('/category', data));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function add(_x) {\n        return _add.apply(this, arguments);\n      }\n\n      return add;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id, data) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", httpProvider.patch(\"/category/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function update(_x2, _x3) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", httpProvider[\"delete\"](\"/category/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function _delete(_x4) {\n        return _delete2.apply(this, arguments);\n      }\n\n      return _delete;\n    }()\n  }]);\n\n  return CategoryProvider;\n}();","var __jsx = React.createElement;\nimport React from 'react';\nimport { ArticleEditor } from '@/components/ArticleEditor';\n\nvar Editor = function Editor() {\n  return __jsx(ArticleEditor, null);\n};\n\nexport default Editor;","import \"antd/lib/drawer/style\";\nimport _Drawer from \"antd/lib/drawer\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/switch/style\";\nimport _Switch from \"antd/lib/switch\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _defineProperty from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useReducer } from 'react';\nimport { FileSelectDrawer } from '@/components/FileSelectDrawer';\nimport { CategoryProvider } from '@/providers/category';\nimport { TagProvider } from '@/providers/tag';\nimport style from './index.module.scss';\n\nvar FormItem = function FormItem(_ref) {\n  var label = _ref.label,\n      content = _ref.content;\n  return __jsx(\"div\", {\n    className: style.formItem\n  }, __jsx(\"span\", null, label), __jsx(\"div\", null, content));\n};\n\nvar initialArticleAttrs = {\n  summary: null,\n  // 摘要\n  password: null,\n  // 密码\n  totalAmount: null,\n  //支付金额\n  isCommentable: true,\n  // 评论\n  isRecommended: true,\n  // 推荐到首页\n  category: null,\n  // 分类\n  tags: [],\n  // 标签\n  cover: null // 封面\n\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialArticleAttrs;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case 'summary':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        summary: payload\n      });\n\n    case 'password':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        password: payload\n      });\n\n    case 'totalAmount':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        totalAmount: payload\n      });\n\n    case 'isCommentable':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isCommentable: payload\n      });\n\n    case 'isRecommended':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isRecommended: payload\n      });\n\n    case 'category':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        category: payload\n      });\n\n    case 'tags':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        tags: payload\n      });\n\n    case 'cover':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cover: payload\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport var ArticleSettingDrawer = function ArticleSettingDrawer(_ref2) {\n  var article = _ref2.article,\n      visible = _ref2.visible,\n      onClose = _ref2.onClose,\n      onChange = _ref2.onChange;\n\n  var _useState = useState(false),\n      fileVisible = _useState[0],\n      setFileVisible = _useState[1];\n\n  var _useReducer = useReducer(reducer, article),\n      attrs = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var _useState2 = useState([]),\n      categorys = _useState2[0],\n      setCategorys = _useState2[1];\n\n  var _useState3 = useState([]),\n      tags = _useState3[0],\n      setTags = _useState3[1];\n\n  useEffect(function () {\n    CategoryProvider.getCategory().then(function (res) {\n      return setCategorys(res);\n    });\n    TagProvider.getTags().then(function (tags) {\n      return setTags(tags);\n    });\n  }, []);\n\n  var ok = function ok() {\n    onChange(_objectSpread(_objectSpread({}, attrs), {}, {\n      tags: (attrs.tags || []).join(',')\n    }));\n  };\n\n  return __jsx(_Drawer, {\n    width: 480,\n    placement: \"right\",\n    title: '文章设置',\n    closable: true,\n    onClose: onClose,\n    visible: visible\n  }, __jsx(FormItem, {\n    label: \"\\u6587\\u7AE0\\u6458\\u8981\",\n    content: __jsx(_Input.TextArea, {\n      className: style.formItem,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u6458\\u8981\",\n      autoSize: {\n        minRows: 6,\n        maxRows: 8\n      },\n      value: attrs.summary,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'summary',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(FormItem, {\n    label: \"\\u8BBF\\u95EE\\u5BC6\\u7801\",\n    content: __jsx(_Input.Password, {\n      placeholder: \"\\u8F93\\u5165\\u540E\\u67E5\\u770B\\u9700\\u8981\\u5BC6\\u7801\",\n      value: attrs.password,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'password',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(FormItem, {\n    label: \"\\u4ED8\\u8D39\\u67E5\\u770B\",\n    content: __jsx(_Input.Password, {\n      placeholder: \"\\u8F93\\u5165\\u540E\\u9700\\u8981\\u652F\\u4ED8\\u7684\\u8D39\\u7528\",\n      value: attrs.totalAmount,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'totalAmount',\n          payload: e.target.value\n        });\n      }\n    })\n  }), __jsx(FormItem, {\n    label: \"\\u5F00\\u542F\\u8BC4\\u8BBA\",\n    content: __jsx(_Switch, {\n      checked: attrs.isCommentable,\n      onChange: function onChange(val) {\n        dispatch({\n          type: 'isCommentable',\n          payload: val\n        });\n      }\n    })\n  }), __jsx(FormItem, {\n    label: \"\\u9996\\u9875\\u63A8\\u8350\",\n    content: __jsx(_Switch, {\n      checked: attrs.isRecommended,\n      onChange: function onChange(val) {\n        dispatch({\n          type: 'isRecommended',\n          payload: val\n        });\n      }\n    })\n  }), __jsx(FormItem, {\n    label: \"\\u9009\\u62E9\\u5206\\u7C7B\",\n    content: __jsx(_Select, {\n      value: attrs.category && attrs.category.id || attrs.category,\n      onChange: function onChange(id) {\n        dispatch({\n          type: 'category',\n          payload: id\n        });\n      },\n      style: {\n        width: '100%'\n      }\n    }, categorys.map(function (t) {\n      return __jsx(_Select.Option, {\n        key: t.id,\n        value: t.id\n      }, t.label);\n    }))\n  }), __jsx(FormItem, {\n    label: \"\\u9009\\u62E9\\u6807\\u7B7E\",\n    content: __jsx(_Select, {\n      style: {\n        width: '100%'\n      },\n      mode: \"tags\",\n      value: (attrs.tags || []).map(function (t) {\n        return t.id || t;\n      }),\n      onChange: function onChange(tags) {\n        dispatch({\n          type: 'tags',\n          payload: tags\n        });\n      }\n    }, tags.map(function (tag) {\n      return __jsx(_Select.Option, {\n        key: tag.id,\n        value: tag.id\n      }, tag.label);\n    }))\n  }), __jsx(FormItem, {\n    label: \"\\u6587\\u7AE0\\u5C01\\u9762\",\n    content: __jsx(\"div\", {\n      className: style.cover\n    }, __jsx(\"div\", {\n      onClick: function onClick() {\n        return setFileVisible(true);\n      },\n      className: style.preview\n    }, __jsx(\"img\", {\n      src: attrs.cover,\n      alt: \"\\u9884\\u89C8\\u56FE\"\n    })), __jsx(_Input, {\n      placeholder: \"\\u6216\\u8F93\\u5165\\u5916\\u90E8\\u94FE\\u63A5\",\n      value: attrs.cover,\n      onChange: function onChange(e) {\n        dispatch({\n          type: 'cover',\n          payload: e.target.value\n        });\n      }\n    }), __jsx(_Button, {\n      onClick: function onClick() {\n        dispatch({\n          type: 'cover',\n          payload: null\n        });\n      }\n    }, \"\\u79FB\\u9664\"))\n  }), __jsx(FileSelectDrawer, {\n    closeAfterClick: true,\n    visible: fileVisible,\n    onClose: function onClose() {\n      return setFileVisible(false);\n    },\n    onChange: function onChange(url) {\n      dispatch({\n        type: 'cover',\n        payload: url\n      });\n    }\n  }), __jsx(\"div\", {\n    style: {\n      position: 'absolute',\n      bottom: 0,\n      width: '100%',\n      borderTop: '1px solid #e8e8e8',\n      padding: '10px 16px',\n      textAlign: 'right',\n      left: 0,\n      background: '#fff',\n      borderRadius: '0 0 4px 4px'\n    }\n  }, __jsx(_Button, {\n    type: \"primary\",\n    onClick: ok\n  }, \"\\u786E\\u8BA4\")));\n};","import \"antd/lib/page-header/style\";\nimport _PageHeader from \"antd/lib/page-header\";\nimport \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/popconfirm/style\";\nimport _Popconfirm from \"antd/lib/popconfirm\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _defineProperty from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _slicedToArray from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport cls from 'classnames';\nimport { default as Router } from 'next/router';\nimport { CloseOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport { Helmet } from 'react-helmet';\nimport { resolveUrl } from '@/utils';\nimport { useSetting } from '@/hooks/useSetting';\nimport { useToggle } from '@/hooks/useToggle';\nimport { Editor as MDEditor } from '@components/Editor';\nimport { ArticleProvider } from '@/providers/article';\nimport { ArticleSettingDrawer } from './ArticleSettingDrawer';\nimport style from './index.module.scss';\nvar REQUIRED_ARTICLE_ATTRS = [['title', '请输入文章标题'], ['content', '请输入文章内容']]; // 副作用：传给服务端的 category 需要是 id\n\nvar transformCategory = function transformCategory(article) {\n  if (article.category && article.category.id) {\n    article.category = article.category.id;\n  }\n};\n\nvar transformTags = function transformTags(article) {\n  if (Array.isArray(article.tags)) {\n    try {\n      article.tags = article.tags.map(function (t) {\n        return t.id;\n      }).join(',');\n    } catch (e) {\n      console.log(e);\n    }\n  }\n};\n\nexport var ArticleEditor = function ArticleEditor(_ref) {\n  var defaultId = _ref.id,\n      _ref$article = _ref.article,\n      defaultArticle = _ref$article === void 0 ? {\n    title: ''\n  } : _ref$article;\n  var isCreate = !defaultId; // 一开始是否是新建\n\n  var setting = useSetting();\n\n  var _useState = useState(defaultId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  var _useState2 = useState(defaultArticle),\n      article = _useState2[0],\n      setArticle = _useState2[1];\n\n  var _useToggle = useToggle(false),\n      _useToggle2 = _slicedToArray(_useToggle, 2),\n      settingDrawerVisible = _useToggle2[0],\n      toggleSettingDrawerVisible = _useToggle2[1];\n\n  var patchArticle = useMemo(function () {\n    return function (key) {\n      return function (value) {\n        if (value.target) {\n          value = value.target.value;\n        }\n\n        setArticle(function (article) {\n          article[key] = value;\n          return article;\n        });\n      };\n    };\n  }, []); // 校验文章必要属性\n\n  var check = useCallback(function () {\n    var canPublish = true;\n    var errorMsg = null;\n    REQUIRED_ARTICLE_ATTRS.forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          msg = _ref3[1];\n\n      if (!article[key]) {\n        errorMsg = msg;\n        canPublish = false;\n      }\n    });\n\n    if (!canPublish) {\n      return Promise.reject(new Error(errorMsg));\n    }\n\n    return Promise.resolve();\n  }, [article]); // 打开发布抽屉\n\n  var openSetting = useCallback(function () {\n    check().then(function () {\n      toggleSettingDrawerVisible();\n    })[\"catch\"](function (err) {\n      _message.warn(err.message);\n    });\n  }, [check, toggleSettingDrawerVisible]);\n  var saveSetting = useCallback(function (setting) {\n    toggleSettingDrawerVisible();\n    Object.assign(article, setting);\n  }, [article, toggleSettingDrawerVisible]); // 保存草稿或者发布线上\n\n  var saveOrPublish = useCallback(function () {\n    var patch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var data = _objectSpread(_objectSpread({}, article), patch);\n\n    check().then(function () {\n      transformCategory(data);\n      transformTags(data);\n      var promise = !isCreate ? ArticleProvider.updateArticle(id, data) : ArticleProvider.addArticle(data);\n      promise.then(function (res) {\n        setId(res.id);\n\n        _message.success(res.status === 'draft' ? '文章已保存为草稿' : '文章已发布');\n      });\n    })[\"catch\"](function (err) {\n      _message.warn(err.message);\n    });\n  }, [article, isCreate, check, id]);\n  var saveDraft = useCallback(function () {\n    saveOrPublish({\n      status: 'draft'\n    });\n  }, [saveOrPublish]);\n  var publish = useCallback(function () {\n    saveOrPublish({\n      status: 'publish'\n    });\n  }, [saveOrPublish]); // 预览文章\n\n  var preview = useCallback(function () {\n    if (id) {\n      window.open(resolveUrl(setting.systemUrl, '/article/' + id));\n    } else {\n      _message.warn('请先保存');\n    }\n  }, [id, setting.systemUrl]);\n  var deleteArticle = useCallback(function () {\n    if (!id) {\n      return;\n    }\n\n    var handle = function handle() {\n      ArticleProvider.deleteArticle(id).then(function () {\n        _message.success('文章删除成功');\n\n        Router.push('/article');\n      });\n    };\n\n    _Modal.confirm({\n      title: '确认删除？',\n      content: '删除内容后，无法恢复。',\n      onOk: handle,\n      okText: '确认',\n      cancelText: '取消',\n      transitionName: '',\n      maskTransitionName: ''\n    });\n  }, [id]);\n  useEffect(function () {\n    if (isCreate && id) {\n      Router.replace('/article/editor/' + id);\n    }\n  }, [id, isCreate]);\n  return __jsx(\"div\", {\n    className: style.wrapper\n  }, __jsx(Helmet, null, __jsx(\"title\", null, id ? \"\\u7F16\\u8F91\\u6587\\u7AE0 \".concat(article.title ? '-' + article.title : '') : '新建文章')), __jsx(\"header\", {\n    className: style.header\n  }, __jsx(_PageHeader, {\n    backIcon: __jsx(_Popconfirm, {\n      title: \"\\u786E\\u8BA4\\u5173\\u95ED\\uFF1F\\u5982\\u679C\\u6709\\u5185\\u5BB9\\u53D8\\u66F4\\uFF0C\\u8BF7\\u5148\\u4FDD\\u5B58\\u3002\",\n      onConfirm: function onConfirm() {\n        return Router.push('/article');\n      },\n      onCancel: function onCancel() {\n        return null;\n      },\n      okText: \"\\u786E\\u8BA4\",\n      cancelText: \"\\u53D6\\u6D88\",\n      placement: \"rightBottom\"\n    }, __jsx(_Button, {\n      size: \"small\",\n      icon: __jsx(CloseOutlined, null)\n    })),\n    style: {\n      borderBottom: '1px solid rgb(235, 237, 240)'\n    },\n    onBack: function onBack() {\n      return null;\n    },\n    title: __jsx(_Input, {\n      style: {\n        width: 300\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6587\\u7AE0\\u6807\\u9898\",\n      defaultValue: article.title,\n      onChange: patchArticle('title')\n    }),\n    extra: [__jsx(_Button, {\n      key: \"publish\",\n      type: \"primary\",\n      onClick: publish\n    }, \"\\u53D1\\u5E03\"), __jsx(_Dropdown, {\n      key: \"more\",\n      overlay: __jsx(_Menu, null, __jsx(_Menu.Item, {\n        key: \"view\",\n        disabled: isCreate,\n        onClick: preview\n      }, \"\\u67E5\\u770B\"), __jsx(_Menu.Item, {\n        key: \"setting\",\n        onClick: openSetting\n      }, \"\\u8BBE\\u7F6E\"), __jsx(_Menu.Divider, {\n        key: \"divide-1\"\n      }), __jsx(_Menu.Item, {\n        key: \"draft\",\n        onClick: saveDraft\n      }, \"\\u4FDD\\u5B58\\u8349\\u7A3F\"), __jsx(_Menu.Divider, {\n        key: \"divide-2\"\n      }), __jsx(_Menu.Item, {\n        key: \"delete\",\n        disabled: isCreate,\n        onClick: deleteArticle\n      }, \"\\u5220\\u9664\"))\n    }, __jsx(_Button, {\n      icon: __jsx(EllipsisOutlined, null),\n      type: \"link\"\n    }))]\n  })), __jsx(\"main\", {\n    className: cls(style.main)\n  }, __jsx(MDEditor, {\n    defaultValue: article.content,\n    onChange: function onChange(_ref4) {\n      var value = _ref4.value,\n          html = _ref4.html,\n          toc = _ref4.toc;\n      patchArticle('content')(value);\n      patchArticle('html')(html);\n      patchArticle('toc')(toc);\n    }\n  })), __jsx(ArticleSettingDrawer, {\n    article: article,\n    visible: settingDrawerVisible,\n    onClose: toggleSettingDrawerVisible,\n    onChange: saveSetting\n  }));\n};","import _regeneratorRuntime from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { httpProvider } from './http';\nexport var ArticleProvider = /*#__PURE__*/function () {\n  function ArticleProvider() {\n    _classCallCheck(this, ArticleProvider);\n  }\n\n  _createClass(ArticleProvider, null, [{\n    key: \"getArticles\",\n\n    /**\n     * 获取所有文章\n     */\n    value: function () {\n      var _getArticles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(params) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", httpProvider.get('/article', {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getArticles(_x) {\n        return _getArticles.apply(this, arguments);\n      }\n\n      return getArticles;\n    }()\n    /**\n     * 获取分类所有文章\n     * @param category\n     * @param params\n     */\n\n  }, {\n    key: \"getArticlesByCategory\",\n    value: function () {\n      var _getArticlesByCategory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(category, params) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", httpProvider.get('/article/category/' + category, {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getArticlesByCategory(_x2, _x3) {\n        return _getArticlesByCategory.apply(this, arguments);\n      }\n\n      return getArticlesByCategory;\n    }()\n    /**\n     * 获取标签所有文章\n     * @param tag\n     * @param params\n     */\n\n  }, {\n    key: \"getArticlesByTag\",\n    value: function () {\n      var _getArticlesByTag = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(tag, params) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", httpProvider.get('/article/tag/' + tag, {\n                  params: params\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getArticlesByTag(_x4, _x5) {\n        return _getArticlesByTag.apply(this, arguments);\n      }\n\n      return getArticlesByTag;\n    }()\n    /**\n     * 获取推荐文章\n     * @param articleId\n     */\n\n  }, {\n    key: \"getRecommend\",\n    value: function () {\n      var _getRecommend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var articleId,\n            _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                articleId = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : null;\n                return _context4.abrupt(\"return\", httpProvider.get('/article/recommend', {\n                  params: {\n                    articleId: articleId\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getRecommend() {\n        return _getRecommend.apply(this, arguments);\n      }\n\n      return getRecommend;\n    }()\n    /**\n     * 获取所有文章归档\n     */\n\n  }, {\n    key: \"getArchives\",\n    value: function () {\n      var _getArchives = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", httpProvider.get('/article/archives'));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function getArchives() {\n        return _getArchives.apply(this, arguments);\n      }\n\n      return getArchives;\n    }()\n    /**\n     * 获取指定文章\n     * @param id\n     */\n\n  }, {\n    key: \"getArticle\",\n    value: function () {\n      var _getArticle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", httpProvider.get(\"/article/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function getArticle(_x6) {\n        return _getArticle.apply(this, arguments);\n      }\n\n      return getArticle;\n    }()\n    /**\n     * 新建文章\n     * @param data\n     */\n\n  }, {\n    key: \"addArticle\",\n    value: function () {\n      var _addArticle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", httpProvider.post('/article', data));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function addArticle(_x7) {\n        return _addArticle.apply(this, arguments);\n      }\n\n      return addArticle;\n    }()\n    /**\n     * 更新文章\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateArticle\",\n    value: function () {\n      var _updateArticle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id, data) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", httpProvider.patch(\"/article/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function updateArticle(_x8, _x9) {\n        return _updateArticle.apply(this, arguments);\n      }\n\n      return updateArticle;\n    }()\n    /**\n     * 更新文章阅读量\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateArticleViews\",\n    value: function () {\n      var _updateArticleViews = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id) {\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", httpProvider.post(\"/article/\".concat(id, \"/views\")));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function updateArticleViews(_x10) {\n        return _updateArticleViews.apply(this, arguments);\n      }\n\n      return updateArticleViews;\n    }()\n    /**\n     * 校验文章密码是否正确\n     * @param id\n     * @param password\n     */\n\n  }, {\n    key: \"checkPassword\",\n    value: function () {\n      var _checkPassword = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id, password) {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt(\"return\", httpProvider.post(\"/article/\".concat(id, \"/checkPassword\"), {\n                  password: password\n                }));\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function checkPassword(_x11, _x12) {\n        return _checkPassword.apply(this, arguments);\n      }\n\n      return checkPassword;\n    }()\n    /**\n     * 删除文章\n     * @param id\n     */\n\n  }, {\n    key: \"deleteArticle\",\n    value: function () {\n      var _deleteArticle = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(id) {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                return _context11.abrupt(\"return\", httpProvider[\"delete\"](\"/article/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function deleteArticle(_x13) {\n        return _deleteArticle.apply(this, arguments);\n      }\n\n      return deleteArticle;\n    }()\n  }]);\n\n  return ArticleProvider;\n}();","import _regeneratorRuntime from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zsj/work/vimconfig/test/creation/packages/admin/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { httpProvider } from './http';\nexport var TagProvider = /*#__PURE__*/function () {\n  function TagProvider() {\n    _classCallCheck(this, TagProvider);\n  }\n\n  _createClass(TagProvider, null, [{\n    key: \"getTags\",\n\n    /**\n     * 获取所有标签\n     */\n    value: function () {\n      var _getTags = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", httpProvider.get('/tag'));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getTags() {\n        return _getTags.apply(this, arguments);\n      }\n\n      return getTags;\n    }()\n    /**\n     * 获取指定标签下文章\n     * @param id\n     */\n\n  }, {\n    key: \"getTagWithArticles\",\n    value: function () {\n      var _getTagWithArticles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n        var needFilter,\n            _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                needFilter = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;\n                return _context2.abrupt(\"return\", httpProvider.get(\"/tag/\".concat(id, \"/article\"), needFilter ? {\n                  params: {\n                    status: 'publish'\n                  }\n                } : {}));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getTagWithArticles(_x) {\n        return _getTagWithArticles.apply(this, arguments);\n      }\n\n      return getTagWithArticles;\n    }()\n    /**\n     * 添加标签\n     * @param data\n     */\n\n  }, {\n    key: \"addTag\",\n    value: function () {\n      var _addTag = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", httpProvider.post('/tag', data));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function addTag(_x2) {\n        return _addTag.apply(this, arguments);\n      }\n\n      return addTag;\n    }()\n    /**\n     * 更新标签\n     * @param id\n     * @param data\n     */\n\n  }, {\n    key: \"updateTag\",\n    value: function () {\n      var _updateTag = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id, data) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", httpProvider.patch(\"/tag/\".concat(id), data));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function updateTag(_x3, _x4) {\n        return _updateTag.apply(this, arguments);\n      }\n\n      return updateTag;\n    }()\n    /**\n     * 删除标签\n     * @param id\n     */\n\n  }, {\n    key: \"deleteTag\",\n    value: function () {\n      var _deleteTag = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", httpProvider[\"delete\"](\"/tag/\".concat(id)));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function deleteTag(_x5) {\n        return _deleteTag.apply(this, arguments);\n      }\n\n      return deleteTag;\n    }()\n  }]);\n\n  return TagProvider;\n}();","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/article/editor\",\n      function () {\n        return require(\"private-next-pages/article/editor/index.tsx\");\n      }\n    ]);\n  "]}}