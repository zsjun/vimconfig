_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{"8YFG":function(e,t,n){"use strict";n("hcgS"),n("Ljrm")},ATwu:function(e,t,n){"use strict";var a=n("J3t6").default,l=n("nFQf").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n("anXS")),r=l(n("Ntl0")),c=l(n("MF/n")),i=l(n("J84W")),s=l(n("0G8d")),u=l(n("kbBi")),f=l(n("Z/ur")),d=l(n("V/uB")),m=l(n("sKbD")),p=l(n("xddM")),v=l(n("72Ab")),y=l(n("ESPI")),b=l(n("TSYQ")),C=l(n("8XRh")),g=a(n("q1tI")),x=n("vgIT"),h=l(n("zu02")),E=n("vCXI"),w=l(n("Sm4I")),O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},N={success:i.default,info:v.default,error:u.default,warning:m.default},k={success:s.default,info:y.default,error:f.default,warning:p.default},I=function(e){var t=e.description,n=e.icon,a=e.prefixCls,l=e.type,o=(t?k:N)[l]||null;return n?(0,E.replaceElement)(n,g.createElement("span",{className:"".concat(a,"-icon")},n),(function(){return{className:(0,b.default)("".concat(a,"-icon"),(0,c.default)({},n.props.className,n.props.className))}})):g.createElement(o,{className:"".concat(a,"-icon")})},T=function(e){var t=e.isClosable,n=e.closeText,a=e.prefixCls,l=e.closeIcon,o=e.handleClose;return t?g.createElement("button",{type:"button",onClick:o,className:"".concat(a,"-close-icon"),tabIndex:0},n?g.createElement("span",{className:"".concat(a,"-close-text")},n):l):null},j=function(e){var t,n=e.description,a=e.prefixCls,l=e.message,i=e.banner,s=e.className,u=void 0===s?"":s,f=e.style,m=e.onMouseEnter,p=e.onMouseLeave,v=e.onClick,y=e.afterClose,E=e.showIcon,w=e.closable,N=e.closeText,k=e.closeIcon,j=void 0===k?g.createElement(d.default,null):k,P=e.action,S=O(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),M=g.useState(!1),_=(0,r.default)(M,2),L=_[0],F=_[1],B=g.useRef(),X=g.useContext(x.ConfigContext),A=X.getPrefixCls,J=X.direction,Q=A("alert",a),H=function(e){var t;F(!0),null===(t=S.onClose)||void 0===t||t.call(S,e)},V=!!N||w,q=function(){var e=S.type;return void 0!==e?e:i?"warning":"info"}(),D=!(!i||void 0!==E)||E,R=(0,b.default)(Q,"".concat(Q,"-").concat(q),(t={},(0,c.default)(t,"".concat(Q,"-with-description"),!!n),(0,c.default)(t,"".concat(Q,"-no-icon"),!D),(0,c.default)(t,"".concat(Q,"-banner"),!!i),(0,c.default)(t,"".concat(Q,"-rtl"),"rtl"===J),t),u),Y=(0,h.default)(S);return g.createElement(C.default,{visible:!L,motionName:"".concat(Q,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:y},(function(e){var t=e.className,a=e.style;return g.createElement("div",(0,o.default)({ref:B,"data-show":!L,className:(0,b.default)(R,t),style:(0,o.default)((0,o.default)({},f),a),onMouseEnter:m,onMouseLeave:p,onClick:v,role:"alert"},Y),D?g.createElement(I,{description:n,icon:S.icon,prefixCls:Q,type:q}):null,g.createElement("div",{className:"".concat(Q,"-content")},l?g.createElement("div",{className:"".concat(Q,"-message")},l):null,n?g.createElement("div",{className:"".concat(Q,"-description")},n):null),P?g.createElement("div",{className:"".concat(Q,"-action")},P):null,g.createElement(T,{isClosable:!!V,closeText:N,prefixCls:Q,closeIcon:j,handleClose:H}))}))};j.ErrorBoundary=w.default;var P=j;t.default=P},BQY7:function(e,t,n){"use strict";n.r(t);n("fwXI");var a=n("CC+v"),l=n.n(a),o=n("wx14"),r=(n("8YFG"),n("ATwu")),c=n.n(r),i=(n("eOfH"),n("h0/l")),s=n.n(i),u=(n("MaXC"),n("4IMT")),f=n.n(u),d=(n("tL+A"),n("QpBz")),m=n.n(d),p=n("ODXe"),v=n("Ff2n"),y=n("q1tI"),b=n.n(y),C=n("YFqc"),g=n.n(C),x=n("6HBy"),h=n("ELla"),E=n("o0o1"),w=n.n(E),O=n("HaE+"),N=n("1OyB"),k=n("vuIU"),I=n("pUN5"),T=function(){function e(){Object(N.a)(this,e)}return Object(k.a)(e,null,[{key:"getMails",value:function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.get("/smtp",{params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteMail",value:function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.a.delete("/smtp/"+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j=n("JMli"),P=n("7LGd"),S=n("s1bl"),M=n("4rwI"),_=n("bWtM"),L=n.n(_),F=b.a.createElement,B={x:1440},X=[{label:"\u53d1\u4ef6\u4eba",field:"from",msg:"\u8bf7\u8f93\u5165\u53d1\u4ef6\u4eba"},{label:"\u6536\u4ef6\u4eba",field:"to",msg:"\u8bf7\u8f93\u5165\u6536\u4ef6\u4eba"},{label:"\u4e3b\u9898",field:"subject",msg:"\u8bf7\u8f93\u5165\u4e3b\u9898"}],A=[{title:"\u53d1\u4ef6\u4eba",dataIndex:"from",key:"from"},{title:"\u6536\u4ef6\u4eba",dataIndex:"to",key:"to"},{title:"\u4e3b\u9898",dataIndex:"subject",key:"subject"}],J={title:"\u53d1\u9001\u65f6\u95f4",dataIndex:"createAt",key:"createAt",render:function(e){return F(j.a,{date:e})}};t.default=function(){var e=Object(x.a)(),t=Object(S.a)(T.getMails),n=t.loading,a=t.data,r=t.refresh,i=Object(v.a)(t,["loading","data","refresh"]),u=Object(P.a)(T.deleteMail),d=Object(p.a)(u,2),b=d[0],C=d[1],E=Object(y.useState)(null),w=E[0],O=E[1],N=Object(y.useMemo)((function(){return e&&e.smtpHost&&e.smtpPort&&e.smtpUser&&e.smtpFromUser&&e.smtpFromUser}),[e]),k=Object(y.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Array.isArray(e)||(e=[e]),function(){Promise.all(e.map((function(e){return b(e)}))).then((function(){m.a.success("\u64cd\u4f5c\u6210\u529f"),t&&t(),r()}))}}),[b,r]),I=[{title:"\u5185\u5bb9",dataIndex:"html",key:"html",render:function(e,t){return F(f.a,{type:"link",style:{paddingLeft:0},onClick:function(){O(t)}},"\u70b9\u51fb\u67e5\u770b")}}],j=function(e){return{title:"\u64cd\u4f5c",key:"action",render:function(t,n){return F("span",{className:L.a.action},F(s.a,{title:"\u786e\u8ba4\u5220\u9664\u8fd9\u4e2a\u90ae\u4ef6\uff1f",onConfirm:k(n.id,e),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},F("a",null,"\u5220\u9664")))}}};return F(h.a,null,F("div",{className:L.a.wrapper},N?null:F("div",{style:{marginBottom:24}},F(c.a,{message:F("span",null,"\u7cfb\u7edf\u68c0\u6d4b\u5230",F("strong",null,"SMTP \u914d\u7f6e"),"\u672a\u5b8c\u5584\uff0c\u5f53\u6536\u5230\u8bc4\u8bba\u65f6\uff0c\u65e0\u6cd5\u8fdb\u884c\u90ae\u4ef6\u901a\u77e5\u3002",F(g.a,{href:"/setting?type=SMTP%20\u670d\u52a1"},F("a",null,"\u70b9\u6211\u7acb\u5373\u5b8c\u5584"))),type:"warning"})),F(M.a,Object(o.a)({showSelection:!0,loading:n,data:a,columns:function(e){return[].concat(A,[I,J,j(e)])},refresh:r},i,{renderLeftNode:function(e){var t=e.hasSelected,n=e.selectedRowKeys,a=e.resetSelectedRows;return t?F(s.a,{title:"\u786e\u8ba4\u5220\u9664\uff1f",onConfirm:k(n,a),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},F(f.a,{disabled:!t,loading:C,danger:!0},"\u5220\u9664")):null},scroll:B,searchFields:X})),F(l.a,{title:"\u53d1\u9001\u5185\u5bb9",visible:w,footer:null,width:834,onCancel:function(){O(null)},transitionName:"",maskTransitionName:""},F("div",{className:"markdown",style:{overflow:"auto !important"},dangerouslySetInnerHTML:{__html:w&&w.html}}))))}},Ljrm:function(e,t,n){},Sm4I:function(e,t,n){"use strict";var a=n("J3t6").default,l=n("nFQf").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n("nDxp")),r=l(n("hWf9")),c=l(n("nPE+")),i=l(n("AK6E")),s=a(n("q1tI")),u=l(n("ATwu")),f=function(e){(0,c.default)(n,e);var t=(0,i.default)(n);function n(){var e;return(0,o.default)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,r.default)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,a=e.children,l=this.state,o=l.error,r=l.info,c=r&&r.componentStack?r.componentStack:null,i="undefined"===typeof t?(o||"").toString():t,f="undefined"===typeof n?c:n;return o?s.createElement(u.default,{type:"error",message:i,description:s.createElement("pre",null,f)}):a}}]),n}(s.Component);t.default=f},eOfH:function(e,t,n){"use strict";n("hcgS"),n("MaXC"),n("/xgg"),n("iteM")},"h0/l":function(e,t,n){"use strict";var a=n("nFQf").default,l=n("J3t6").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("anXS")),r=a(n("Ntl0")),c=a(n("sKbD")),i=a(n("TSYQ")),s=a(n("EO2L")),u=a(n("ftrU")),f=l(n("q1tI")),d=n("vgIT"),m=a(n("aOJk")),p=n("vCXI"),v=n("yvsJ"),y=void 0,b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},C=f.forwardRef((function(e,t){var n=f.useContext(d.ConfigContext).getPrefixCls,a=(0,s.default)(!1,{value:e.visible,defaultValue:e.defaultVisible}),l=(0,r.default)(a,2),c=l[0],C=l[1],g=function(t,n){var a;C(t,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n)},x=e.prefixCls,h=e.placement,E=e.children,w=e.overlayClassName,O=b(e,["prefixCls","placement","children","overlayClassName"]),N=n("popover",x),k=n("popconfirm",x),I=(0,i.default)(k,w);return f.createElement(m.default,(0,o.default)({},O,{prefixCls:N,placement:h,onVisibleChange:function(t){e.disabled||g(t)},visible:c,_overlay:f.createElement(v.Overlay,(0,o.default)({},e,{prefixCls:N,close:function(e){g(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(y,t)},onCancel:function(t){var n;g(!1,t),null===(n=e.onCancel)||void 0===n||n.call(y,t)}})),overlayClassName:I,ref:t}),(0,p.cloneElement)(E,{onKeyDown:function(e){var t,n;f.isValidElement(E)&&(null===(n=null===E||void 0===E?void 0:(t=E.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===u.default.ESC&&c&&g(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:f.createElement(c.default,null),disabled:!1};var g=C;t.default=g},iteM:function(e,t,n){},wbCl:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mail",function(){return n("BQY7")}])},yvsJ:function(e,t,n){"use strict";var a=n("J3t6").default,l=n("nFQf").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Overlay=function(e){var t=e.prefixCls,n=e.okButtonProps,a=e.cancelButtonProps,l=e.title,p=e.cancelText,v=e.okText,y=e.okType,b=e.icon,C=e.showCancel,g=void 0===C||C,x=e.close,h=e.onConfirm,E=e.onCancel,w=r.useContext(m.ConfigContext).getPrefixCls;return r.createElement(u.default,{componentName:"Popconfirm",defaultLocale:f.default.Popconfirm},(function(e){return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},b,r.createElement("div",{className:"".concat(t,"-message-title")},(0,d.getRenderPropValue)(l))),r.createElement("div",{className:"".concat(t,"-buttons")},g&&r.createElement(c.default,(0,o.default)({onClick:E,size:"small"},a),p||e.cancelText),r.createElement(s.default,{buttonProps:(0,o.default)((0,o.default)({size:"small"},(0,i.convertLegacyProps)(y)),n),actionFn:h,close:x,prefixCls:w("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},v||e.okText)))}))};var o=l(n("anXS")),r=a(n("q1tI")),c=l(n("4IMT")),i=n("4Blx"),s=l(n("FX+m")),u=l(n("GG9M")),f=l(n("PE/4")),d=n("yBST"),m=n("vgIT")}},[["wbCl",2,3,0,4,5,6,7,8,9,10,11,12,13,14,17,18,23,1]]]);