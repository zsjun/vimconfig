_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[50],{"/MfK":function(e,t,n){"use strict";var r=n("Zjvm"),o=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},a=n("6VBw"),l=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};l.displayName="DeleteOutlined";t.a=o.forwardRef(l)},"1rOl":function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),o=n.n(r),i=n("HaE+"),a=(n("lSEL"),n("UIqZ")),l=n.n(a),s=(n("/xgg"),n("aOJk")),c=n.n(s),u=(n("cUip"),n("iJl9")),d=n.n(u),f=(n("MaXC"),n("4IMT")),h=n.n(f),p=(n("W93S"),n("pWf2")),g=n.n(p),v=n("rePB"),m=(n("eOfH"),n("h0/l")),y=n.n(m),b=(n("tL+A"),n("QpBz")),w=n.n(b),x=n("ODXe"),O=n("q1tI"),k=n.n(O),C=n("20a2"),S=n.n(C),T=n("TSYQ"),j=n.n(T),I=n("eyie"),E=n("/MfK"),N=n("4i/N"),R=n("eFNv"),D=n("xvlK");function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){W(e,t,n[t])}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){if(t&&("object"===q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}var z=n("i8i4"),Y=n("QLaP"),J=n.n(Y);function Q(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=n("a2Yb"),$=n.n(Z),ee=function(){function e(){_(this,e),W(this,"refs",{})}return B(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(te)}}]),e}();function te(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function ne(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var re={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},oe=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function ie(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function ae(e,t){e.style["".concat(oe,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function le(e,t){e.style["".concat(oe,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function se(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function ce(e,t,n){return Math.max(e,Math.min(n,t))}function ue(e){return"px"===e.substr(-2)?parseFloat(e):0}function de(e){var t=window.getComputedStyle(e);return{bottom:ue(t.marginBottom),left:ue(t.marginLeft),right:ue(t.marginRight),top:ue(t.marginTop)}}function fe(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function he(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function pe(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function ge(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:ve(e.parentNode,t,r)}}function me(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function ye(e){var t=e.lockOffset,n=e.width,r=e.height,o=t,i=t,a="px";if("string"===typeof t){var l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);J()(null!==l,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),i=parseFloat(t),a=l[1]}return J()(isFinite(o)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===a&&(o=o*n/100,i=i*r/100),{x:o,y:i}}function be(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];J()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var i=L(o,2),a=i[0],l=i[1];return[ye({height:t,lockOffset:a,width:n}),ye({height:t,lockOffset:l,width:n})]}function we(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:we(e.parentNode):null}function xe(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:ue(t.gridColumnGap),y:ue(t.gridRowGap)}:{x:0,y:0}}var Oe=27,ke=32,Ce=37,Se=38,Te=39,je=40,Ie="A",Ee="BUTTON",Ne="CANVAS",Re="INPUT",De="OPTION",Me="TEXTAREA",Pe="SELECT";function Ae(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return Q(r.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===Ne&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),r}function Le(e){return null!=e.sortableHandle}var We=function(){function e(t,n){_(this,e),this.container=t,this.onScrollCallback=n}return B(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,o=e.maxTranslate,i=e.width,a=e.height,l={x:0,y:0},s={x:1,y:1},c=10,u=10,d=this.container,f=d.scrollTop,h=d.scrollLeft,p=d.scrollHeight,g=d.scrollWidth,v=0===f,m=p-f-d.clientHeight===0,y=0===h,b=g-h-d.clientWidth===0;n.y>=o.y-a/2&&!m?(l.y=1,s.y=u*Math.abs((o.y-a/2-n.y)/a)):n.x>=o.x-i/2&&!b?(l.x=1,s.x=c*Math.abs((o.x-i/2-n.x)/i)):n.y<=r.y+a/2&&!v?(l.y=-1,s.y=u*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+i/2&&!y&&(l.x=-1,s.x=c*Math.abs((n.x-i/2-r.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===l.x&&0===l.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:s.x*l.x,top:s.y*l.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var Ke={axis:$.a.oneOf(["x","y","xy"]),contentWindow:$.a.any,disableAutoscroll:$.a.bool,distance:$.a.number,getContainer:$.a.func,getHelperDimensions:$.a.func,helperClass:$.a.string,helperContainer:$.a.oneOfType([$.a.func,"undefined"===typeof HTMLElement?$.a.any:$.a.instanceOf(HTMLElement)]),hideSortableGhost:$.a.bool,keyboardSortingTransitionDuration:$.a.number,lockAxis:$.a.string,lockOffset:$.a.oneOfType([$.a.number,$.a.string,$.a.arrayOf($.a.oneOfType([$.a.number,$.a.string]))]),lockToContainerEdges:$.a.bool,onSortEnd:$.a.func,onSortMove:$.a.func,onSortOver:$.a.func,onSortStart:$.a.func,pressDelay:$.a.number,pressThreshold:$.a.number,keyCodes:$.a.shape({lift:$.a.arrayOf($.a.number),drop:$.a.arrayOf($.a.number),cancel:$.a.arrayOf($.a.number),up:$.a.arrayOf($.a.number),down:$.a.arrayOf($.a.number)}),shouldCancelStart:$.a.func,transitionDuration:$.a.number,updateBeforeSortStart:$.a.func,useDragHandle:$.a.bool,useWindowAsScrollContainer:$.a.bool},_e={lift:[ke],drop:[ke],cancel:[Oe],up:[Se,Ce],down:[je,Te]},He={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:_e,shouldCancelStart:function(e){return-1!==[Re,Me,Pe,De,Ee].indexOf(e.target.tagName)||!!se(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},Be=Object.keys(Ke);function qe(e){J()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function Ve(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var Xe=Object(O.createContext)({manager:{}});var Fe={index:$.a.number.isRequired,collection:$.a.oneOfType([$.a.number,$.a.string]),disabled:$.a.bool},Ue=Object.keys(Fe);var Ge=n("wYyv"),ze=n.n(Ge),Ye=n("XnLC"),Je=n("gFvc"),Qe=n("tjNU"),Ze=n("mMs/"),$e=n("M7TQ"),et=n("Yoxv"),tt=n.n(et),nt=n("MLMA"),rt=k.a.createElement;function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return W(V(V(t=X(this,(e=F(n)).call.apply(e,[this].concat(o))))),"wrappedInstance",Object(O.createRef)()),t}return G(n,t),B(n,[{key:"componentDidMount",value:function(){Object(z.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return J()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(O.createElement)(e,M({ref:t},this.props))}}]),n}(O.Component),W(t,"displayName",fe("sortableHandle",e)),n}((function(){return rt("span",{style:{cursor:"move"}},rt(I.a,null))})),lt=function(e){var t=e.id,n=e.knowledge,r=Object(Ze.a)(),o=Object(O.useRef)(),i=Object(O.useState)(!1),a=i[0],s=i[1],u=Object($e.a)(!1),f=Object(x.a)(u,2),p=f[0],v=f[1],m=Object($e.a)(!1),b=Object(x.a)(m,2),k=b[0],C=b[1],T=Object(O.useState)(n),I=T[0],P=T[1],A=Object(O.useState)(""),H=A[0],q=A[1],U=Object(O.useState)(-1),Y=U[0],Q=U[1],Z=Object(O.useState)(I.children||[]),$=Z[0],te=Z[1],oe=$[Y]||null,ue=Object(O.useCallback)((function(e){var t=function(){te((function(t){return t.splice(e,1),t})),r(),Q(Y-1)},n=$[e];n.id?Ye.a.deleteKnowledge(n.id).then((function(){t(),w.a.success("\u5df2\u4fdd\u5b58")})):t()}),[$,Y,r]),ye=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){var e,t;_(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return W(V(V(t=X(this,(e=F(n)).call.apply(e,[this].concat(o))))),"wrappedInstance",Object(O.createRef)()),t}return G(n,t),B(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,o=Object(z.findDOMNode)(this);o.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=o,this.ref={node:o},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return J()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(O.createElement)(e,M({ref:t},ne(this.props,Ue)))}}]),n}(O.Component),W(t,"displayName",fe("sortableElement",e)),W(t,"contextType",Xe),W(t,"propTypes",Fe),W(t,"defaultProps",{collection:0}),n}((function(e){var t=e.value;return rt("div",{key:t,className:j()({active:t===Y,"knowledge-chapter-item":!0}),onClick:function(){return Q(t)}},rt(at,null),rt("span",null,$[t].title),rt(y.a,{title:"\u786e\u8ba4\u5220\u9664?",onConfirm:function(){return ue(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},rt(E.a,{onClick:function(e){return e.stopPropagation()}})))})),Oe=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;_(this,n),W(V(V(t=X(this,F(n).call(this,e)))),"state",{}),W(V(V(t)),"handleStart",(function(e){var n=t.props,r=n.distance,o=n.shouldCancelStart;if(2!==e.button&&!o(e)){t.touched=!0,t.position=pe(e);var i=se(e.target,(function(e){return null!=e.sortableInfo}));if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var a=t.props.useDragHandle,l=i.sortableInfo,s=l.index,c=l.collection;if(l.disabled)return;if(a&&!se(e.target,Le))return;t.manager.active={collection:c,index:s},ge(e)||e.target.tagName!==Ie||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),W(V(V(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),W(V(V(t)),"handleMove",(function(e){var n=t.props,r=n.distance,o=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var i=pe(e),a={x:t.position.x-i.x,y:t.position.y-i.y},l=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||o&&!(l>=o)?r&&l>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),W(V(V(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),W(V(V(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),W(V(V(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=f.sortableInfo.index,r=de(f),o=xe(t.container),c=t.scrollContainer.getBoundingClientRect(),g=a({index:n,node:f,collection:h});if(t.node=f,t.margin=r,t.gridGap=o,t.width=g.width,t.height=g.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=c,t.index=n,t.newIndex=n,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=ve(f,t.container),t.initialOffset=pe(p?K({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(Ae(f)),ie(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),p&&t.helper.focus(),s&&(t.sortableGhost=f,ie(f,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},p){var v=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,m=v.top,y=v.left,b=v.width,w=m+v.height,x=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=x-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=m-t.boundingClientRect.top,t.maxTranslate.y=w-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:c.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:c.left+c.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:c.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:c.top+c.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?e.target:t.contentWindow,p?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(re.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),re.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),u&&u({node:f,index:n,collection:h,isKeySorting:p,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),p&&t.keyMove(0)},o=t.props,i=o.axis,a=o.getHelperDimensions,l=o.helperClass,s=o.hideSortableGhost,c=o.updateBeforeSortStart,u=o.onSortStart,d=o.useWindowAsScrollContainer,f=n.node,h=n.collection,p=t.manager.isKeySorting,g=function(){if("function"===typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=Ve((function(){var t=f.sortableInfo.index;return Promise.resolve(c({collection:h,index:t,node:f,isKeySorting:p},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return g&&g.then?g.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(o){return Promise.reject(o)}})),W(V(V(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"===typeof e.preventDefault&&e.cancelable&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),W(V(V(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,o=n.onSortEnd,i=t.manager,a=i.active.collection,l=i.isKeySorting,s=t.manager.getOrderedRefs();t.listenerNode&&(l?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(re.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),re.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&ie(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=s.length;c<u;c++){var d=s[c],f=d.node;d.edgeOffset=null,d.boundingClientRect=null,ae(f,null),le(f,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof o&&o({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:l,nodes:s},e),t.touched=!1})),W(V(V(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=K({},t.translate),o=0,i=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),o=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),i=t.translate.y-r.y),t.translate=r,ae(t.helper,t.translate),t.scrollContainer.scrollLeft+=o,void(t.scrollContainer.scrollTop+=i)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),W(V(V(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),W(V(V(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,o=r.shouldCancelStart,i=r.keyCodes,a=K({},_e,void 0===i?{}:i);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(n)&&!o(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(n)&&!t.manager.active?t.keyLift(e):a.drop.includes(n)&&t.manager.active?t.keyDrop(e):a.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(n)?t.keyMove(-1):a.down.includes(n)&&t.keyMove(1))})),W(V(V(t)),"keyLift",(function(e){var n=e.target,r=se(n,(function(e){return null!=e.sortableInfo})).sortableInfo,o=r.index,i=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:o,collection:i},t.handlePress(e)})),W(V(V(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,o=t.newIndex+e,i=t.newIndex;if(!(o<0||o>r)){t.prevIndex=i,t.newIndex=o;var a=me(t.newIndex,t.prevIndex,t.index),l=n.find((function(e){return e.node.sortableInfo.index===a})),s=l.node,c=t.containerScrollDelta,u=l.boundingClientRect||he(s,c),d=l.translate||{x:0,y:0},f=u.top+d.y-c.top,h=u.left+d.x-c.left,p=i<o,g=p&&t.axis.x?s.offsetWidth-t.width:0,v=p&&t.axis.y?s.offsetHeight-t.height:0;t.handleSortMove({pageX:h+g,pageY:f+v,ignoreTransition:0===e})}})),W(V(V(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),W(V(V(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),W(V(V(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,o=se(r,(function(e){return null!=e.sortableInfo}));return o&&o.sortableInfo&&!o.sortableInfo.disabled&&(n?Le(r):r.sortableInfo)}));var r=new ee;return qe(e),t.manager=r,t.wrappedInstance=Object(O.createRef)(),t.sortableContextValue={manager:r},t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return G(n,t),B(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"===typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:we(e.container)||e.container,e.autoScroller=new We(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return re[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return re[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,i=t.transitionDuration,a=t.keyboardSortingTransitionDuration,l=void 0===a?i:a,s=this.manager.isKeySorting,c=e.ignoreTransition,u=pe(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,o){var f=L(be({height:this.height,lockOffset:r,width:this.width}),2),h=f[0],p=f[1],g={x:this.width/2-h.x,y:this.height/2-h.y},v={x:this.width/2-p.x,y:this.height/2-p.y};d.x=ce(this.minTranslate.x+g.x,this.maxTranslate.x-v.x,d.x),d.y=ce(this.minTranslate.y+g.y,this.maxTranslate.y-v.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),s&&l&&!c&&le(this.helper,l),ae(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,o=this.containerScrollDelta,i=this.windowScrollDelta,a=this.manager.getOrderedRefs(),l=this.offsetEdge.left+this.translate.x+o.left,s=this.offsetEdge.top+this.translate.y+o.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,f=a.length;d<f;d++){var h=a[d].node,p=h.sortableInfo.index,g=h.offsetWidth,v=h.offsetHeight,m={height:this.height>v?v/2:this.height/2,width:this.width>g?g/2:this.width/2},y=c&&p>this.index&&p<=u,b=c&&p<this.index&&p>=u,w={x:0,y:0},x=a[d].edgeOffset;x||(x=ve(h,this.container),a[d].edgeOffset=x,c&&(a[d].boundingClientRect=he(h,o)));var O=d<a.length-1&&a[d+1],k=d>0&&a[d-1];O&&!O.edgeOffset&&(O.edgeOffset=ve(O.node,this.container),c&&(O.boundingClientRect=he(O.node,o))),p!==this.index?(t&&le(h,t),this.axis.x?this.axis.y?b||p<this.index&&(l+i.left-m.width<=x.left&&s+i.top<=x.top+m.height||s+i.top+m.height<=x.top)?(w.x=this.width+this.marginOffset.x,x.left+w.x>this.containerBoundingRect.width-m.width&&O&&(w.x=O.edgeOffset.left-x.left,w.y=O.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=p)):(y||p>this.index&&(l+i.left+m.width>=x.left&&s+i.top+m.height>=x.top||s+i.top+m.height>=x.top+v))&&(w.x=-(this.width+this.marginOffset.x),x.left+w.x<this.containerBoundingRect.left+m.width&&k&&(w.x=k.edgeOffset.left-x.left,w.y=k.edgeOffset.top-x.top),this.newIndex=p):y||p>this.index&&l+i.left+m.width>=x.left?(w.x=-(this.width+this.marginOffset.x),this.newIndex=p):(b||p<this.index&&l+i.left<=x.left+m.width)&&(w.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this.axis.y&&(y||p>this.index&&s+i.top+m.height>=x.top?(w.y=-(this.height+this.marginOffset.y),this.newIndex=p):(b||p<this.index&&s+i.top<=x.top+m.height)&&(w.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),ae(h,w),a[d].translate=w):n&&(this.sortableGhost=h,ie(h,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var C=c?this.prevIndex:u;r&&this.newIndex!==C&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:c,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return J()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!==typeof e?Object(z.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=r.withRef?this.wrappedInstance:null;return Object(O.createElement)(Xe.Provider,{value:this.sortableContextValue},Object(O.createElement)(e,M({ref:t},ne(this.props,Be))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"===typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(O.Component),W(t,"displayName",fe("sortableList",e)),W(t,"defaultProps",He),W(t,"propTypes",Ke),n}((function(e){var t=e.items;return rt("div",{className:tt.a.menu},t.map((function(e,t){return rt(ye,{key:"item-".concat(e.title),index:t,value:t})})))})),ke=Object(O.useCallback)((function(e){var t=e.oldIndex,n=e.newIndex;Y>-1&&Q(n),te((function(e){return ze()(e,t,n)}))}),[Y]),Ce=Object(O.useCallback)((function(){var e=H.trim();e&&(te((function(t){return t.push({title:e,content:""}),t})),Q($.length-1),q(""),v(),r(),Promise.resolve().then((function(){return Object(nt.e)(o.current)})))}),[H,$,r,v]),Se=Object(O.useCallback)((function(e){Y<0||te((function(t){var n=t[Y];return n?(n.content=e.value,n.html=e.html,n.toc=e.toc,t):t}))}),[Y]),Te=Object(O.useCallback)((function(){if($&&$.length){$.forEach((function(e,t){e.order=t})),s(!0);var e=$.map((function(e){return e.parentId?Ye.a.updateKnowledge(e.id,e):Ye.a.createChapters([it(it({},e),{},{parentId:t})])}));return Promise.all(e).then((function(e){var t=e.flat(1/0);s(!1),te(t),r(),w.a.success("\u5df2\u4fdd\u5b58")}))}}),[t,$,r]);return rt("div",{className:tt.a.wrapper},rt("aside",null,rt("header",null,rt("div",null,rt(y.a,{title:"\u786e\u8ba4\u5173\u95ed\uff1f\u5982\u679c\u6709\u5185\u5bb9\u53d8\u66f4\uff0c\u8bf7\u5148\u4fdd\u5b58\u3002",onConfirm:function(){return S.a.push("/knowledge")},onCancel:function(){return null},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",placement:"rightBottom",okButtonProps:{loading:a}},rt(N.a,null)),rt("div",null,rt(g.a,{shape:"square",src:I.cover}),rt("span",{style:{marginLeft:8}},I.title)),rt(R.a,{style:{cursor:"pointer"},onClick:C}),rt(Qe.a,{visible:k,toggleVisible:C,book:I,onOk:P})),rt("div",null,rt(h.a,{style:{width:"100%"},onClick:Te,loading:a},"\u4fdd\u5b58")),rt("div",null,rt("span",null,$.length,"\u7bc7\u6587\u7ae0"),rt(c.a,{content:rt("div",{style:{display:"flex"}},rt(d.a,{autoFocus:!0,width:240,value:H,onChange:function(e){return q(e.target.value)}}),rt(h.a,{style:{marginLeft:8},type:"primary",onClick:Ce},"\u65b0\u5efa")),visible:p,onVisibleChange:v,placement:"rightTop",trigger:"click"},rt(h.a,{icon:rt(D.a,null),size:"small"},"\u65b0\u5efa"))),rt(l.a,{style:{margin:"16px 0"}})),rt("main",{ref:o},rt(Oe,{items:$,onSortEnd:ke,useDragHandle:!0,lockAxis:"y"}))),rt("main",null,oe?rt(Je.a,{defaultValue:oe&&oe.content||"",onChange:Se}):rt("div",{className:tt.a.helper},"\u8bf7\u65b0\u5efa\u7ae0\u8282\uff08\u6216\u8005\u9009\u62e9\u7ae0\u8282\u8fdb\u884c\u7f16\u8f91\uff09")))};lt.getInitialProps=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.id,e.next=3,Ye.a.getKnowledge(n);case 3:return r=e.sent,e.abrupt("return",{id:n,knowledge:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=lt},DwfN:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"JT4/":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));n("dc+4");var r=n("Btem"),o=n.n(r),i=n("wx14"),a=(n("MaXC"),n("4IMT")),l=n.n(a),s=(n("8YFG"),n("ATwu")),c=n.n(s),u=(n("CXCZ"),n("hqwM")),d=n.n(u),f=n("Ff2n"),h=(n("mN36"),n("N9UN")),p=n.n(h),g=n("q1tI"),v=n.n(g),m=n("yCxO"),y=n.n(m),b=n("0Kvv"),w=n("+T3G"),x=n("NVXP"),O=n("s1bl"),k=n("4rwI"),C=n("tV+F"),S=n.n(C),T=v.a.createElement,j=p.a.Meta,I=null,E=[{label:"\u6587\u4ef6\u540d\u79f0",field:"originalname",msg:"\u8bf7\u8f93\u5165\u6587\u4ef6\u540d\u79f0"},{label:"\u6587\u4ef6\u7c7b\u578b",field:"type",msg:"\u8bf7\u8f93\u5165\u6587\u4ef6\u7c7b\u578b"}],N={gutter:16,xs:1,sm:2,md:4,lg:4,xl:4,xxl:6},R=function(e){var t=e.visible,n=e.isCopy,r=void 0!==n&&n,a=e.closeAfterClick,s=void 0!==a&&a,u=e.onClose,h=e.onChange,v=Object(g.useRef)(),m=Object(O.a)(w.a.getFiles),C=m.loading,R=m.data,D=m.refresh,M=Object(f.a)(m,["loading","data","refresh"]),P=Object(g.useCallback)((function(e){e.stopPropagation(),I?I.update():I=new y.a(v.current,{inline:!1})}),[]),A=Object(g.useCallback)((function(e){r&&Object(b.a)(e.url),h&&h(e.url),s&&u()}),[r,h,s,u]),L=Object(g.useCallback)((function(e){return T(d.a,{className:S.a.imgs,grid:N,dataSource:e,renderItem:function(e){return T(d.a.Item,{key:e.id},T(p.a,{hoverable:!0,cover:T("div",{className:S.a.preview,onClick:P},T("img",{alt:e.originalname,src:e.url})),onClick:function(){return A(e)}},T(j,{title:e.originalname})))}})}),[A,P]);return T(o.a,{width:786,placement:"right",title:"\u6587\u4ef6\u9009\u62e9",closable:!0,onClose:u,visible:t},r&&T("div",{style:{marginBottom:16}},T(c.a,{message:"\u70b9\u51fb\u5361\u7247\u590d\u5236\u94fe\u63a5\uff0c\u70b9\u51fb\u56fe\u7247\u67e5\u770b\u5927\u56fe",type:"info"})),T("div",{ref:v},T(k.a,Object(i.a)({loading:C,data:R},M,{refresh:D,searchFields:E,rightNode:T(x.a,{onOK:D,useDragger:!1},T(l.a,null,"\u4e0a\u4f20\u6587\u4ef6")),customDataTable:L}))))}},QLaP:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,l],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},WwLO:function(e,t,n){"use strict";var r=n("DwfN");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},XnLC:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("o0o1"),o=n.n(r),i=n("HaE+"),a=n("1OyB"),l=n("vuIU"),s=n("pUN5"),c=function(){function e(){Object(a.a)(this,e)}return Object(l.a)(e,null,[{key:"createBook",value:function(e){return s.a.post("/knowledge/book",e)}},{key:"createChapters",value:function(e){return s.a.post("/knowledge/chapter",e)}},{key:"deleteKnowledge",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete("/knowledge/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateKnowledge",value:function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.patch("/knowledge/".concat(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getKnowledges",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",s.a.get("/knowledge",{params:t}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getKnowledge",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/knowledge/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateKnowledgeViews",value:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/knowledge/".concat(t,"/views")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},a2Yb:function(e,t,n){e.exports=n("WwLO")()},eFNv:function(e,t,n){"use strict";var r=n("Zjvm"),o=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},a=n("6VBw"),l=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};l.displayName="SettingOutlined";t.a=o.forwardRef(l)},eyie:function(e,t,n){"use strict";var r=n("Zjvm"),o=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},a=n("6VBw"),l=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};l.displayName="MenuOutlined";t.a=o.forwardRef(l)},"mMs/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI");function o(){var e=Object(r.useState)(-1)[1];return Object(r.useCallback)((function(){e((function(e){return e+1}))}),[])}},nlV4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/knowledge/editor/[id]",function(){return n("1rOl")}])},"tV+F":function(e,t,n){e.exports={preview:"Ww9TX_Nr4kCUq3meZJEr-"}},tjNU:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n("dc+4");var r=n("Btem"),o=n.n(r),i=(n("MaXC"),n("4IMT")),a=n.n(i),l=(n("LGkk"),n("rVaU")),s=n.n(l),c=(n("cUip"),n("iJl9")),u=n.n(c),d=(n("tL+A"),n("QpBz")),f=n.n(d),h=n("ODXe"),p=n("q1tI"),g=n.n(p),v=n("M7TQ"),m=n("7LGd"),y=n("XnLC"),b=n("JT4/"),w=n("NVXP"),x=g.a.createElement,O=function(e){var t=e.visible,n=e.toggleVisible,r=e.book,i=void 0===r?null:r,l=e.onOk,c=null!==i,d=Object(v.a)(!1),g=Object(h.a)(d,2),O=g[0],k=g[1],C=Object(m.a)(y.a.createBook),S=Object(h.a)(C,2),T=S[0],j=S[1],I=Object(m.a)(y.a.updateKnowledge),E=Object(h.a)(I,2),N=E[0],R=E[1],D=Object(p.useState)(i&&i.title||""),M=D[0],P=D[1],A=Object(p.useState)(i&&i.summary||""),L=A[0],W=A[1],K=Object(p.useState)(i&&i.isCommentable||!0),_=K[0],H=K[1],B=Object(p.useState)(i&&i.cover||""),q=B[0],V=B[1],X=Object(p.useCallback)((function(){var e={title:M.trim(),cover:q,summary:L.trim(),isCommentable:_};(c?N(i.id,e):T(e)).then((function(e){f.a.success(c?"\u66f4\u65b0\u6210\u529f":"\u521b\u5efa\u6210\u529f"),n(),l(e)}))}),[M,L,_,q,c,N,T,i,n,l]);return Object(p.useEffect)((function(){P(i&&i.title||""),W(i&&i.summary||""),H(i&&i.isCommentable||!1),V(i&&i.cover||"")}),[i]),x(o.a,{title:c?"\u66f4\u65b0\u77e5\u8bc6\u5e93":"\u65b0\u5efa\u77e5\u8bc6\u5e93",width:600,visible:t,onClose:n},x("div",{className:"form-item"},x("label",{htmlFor:"title"},"\u540d\u79f0"),x("div",null,x(u.a,{id:"title",value:M,onChange:function(e){return P(e.target.value)}}))),x("div",{className:"form-item"},x("label",{htmlFor:"summary"},"\u63cf\u8ff0"),x("div",null,x(u.a.TextArea,{autoSize:{minRows:3,maxRows:6},id:"summary",value:L,onChange:function(e){return W(e.target.value)}}))),x("div",{className:"form-item"},x("label",{htmlFor:"title"},"\u8bc4\u8bba"),x("div",null,x(s.a,{checked:_,onChange:H}))),x("div",{className:"form-item"},x("label",{htmlFor:"upload"},"\u5c01\u9762"),x("div",null,x(w.a,{style:{width:"100%",minHeight:160},onChange:V},q?x("img",{src:q,alt:"avatar",style:{width:"100%"}}):null),x(u.a,{value:q,style:{marginTop:12}}),x(a.a,{style:{marginTop:12},onClick:k},"\u9009\u62e9\u6587\u4ef6"),q&&x(a.a,{style:{marginTop:12,marginLeft:12},danger:!0,onClick:function(){return V("")}},"\u79fb\u9664"))),x(b.a,{visible:O,onClose:k,onChange:function(e){V(e),k()}}),x("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},x(a.a,{onClick:n},"\u53d6\u6d88"),x(a.a,{style:{marginLeft:8},type:"primary",disabled:!M.trim(),loading:c?R:j,onClick:X},c?"\u66f4\u65b0":"\u521b\u5efa")))}},wYyv:function(e,t,n){"use strict";const r=(e,t,n)=>{const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const r=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(r,0,o)}};e.exports=(e,t,n)=>(e=[...e],r(e,t,n),e),e.exports.mutate=r},xvlK:function(e,t,n){"use strict";var r=n("Zjvm"),o=n("q1tI"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},a=n("6VBw"),l=function(e,t){return o.createElement(a.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};l.displayName="PlusOutlined";t.a=o.forwardRef(l)}},[["nlV4",2,3,0,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,25,26,27,1]]]);